import{g as Je,a as ct,u as se,r as a,C as De,c as B,p as sn,b as Qe,d as Rt,e as Fn,f as Pt,h as ln,I as kn,i as cn,E as An,k as Ft,l as _n,m as Hn,n as Nt,o as jt,q as Mt,s as Y,P as Bn,t as K,K as wt,v as le,w as Vn,x as Xn,y as Pe,R as Ee,_ as ee,D as Un,z as Me,B as Oe,F as Ge,A as fe,G as Ke,T as Te,H as Wn,J as qn,L as un,M as ut,N as Zn,O as Yn,Q as dn,U as mn,V as at,W as yt,X as fn,Y as Gn,Z as St,$ as pn,a0 as $t,a1 as gn,a2 as Kn,a3 as Jn,a4 as Qn,a5 as vn,a6 as he,a7 as eo,a8 as kt,a9 as hn,aa as At,ab as to,ac as bn,ad as no,ae as oo,af as ro,ag as _t,ah as Ht,ai as Xe,aj as ao,ak as io,al as Bt,am as Be,an as Cn,ao as Tt,ap as so,aq as dt,ar as Ve,j as R,as as wn,at as mt,au as Lt,av as Vt,aw as lo,ax as co,ay as yn,az as uo,aA as Xt,aB as mo}from"./index-CkdniRCF.js";import{g as Sn,a as _e,b as fo,C as $n,F as po,c as go,T as vo}from"./toolbar-layout-CSwFNtw8.js";import{T as ho}from"./index-BtHE92I6.js";import{C as bo}from"./CheckOutlined-Daqmf7ce.js";import{C as Co}from"./ClockCircleOutlined-CMhjHB1d.js";import{B as wo}from"./Breadcrumb-Ca9o86d7.js";import"./DownOutlined-cz4r4uzq.js";const tt=(e,t,n,o,r)=>({background:e,border:`${se(o.lineWidth)} ${o.lineType} ${t}`,[`${r}-icon`]:{color:n}}),yo=e=>{const{componentCls:t,motionDurationSlow:n,marginXS:o,marginSM:r,fontSize:s,fontSizeLG:l,lineHeight:i,borderRadiusLG:c,motionEaseInOutCirc:u,withDescriptionIconSize:m,colorText:d,colorTextHeading:p,withDescriptionPadding:g,defaultPadding:v}=e;return{[t]:Object.assign(Object.assign({},ct(e)),{position:"relative",display:"flex",alignItems:"center",padding:v,wordWrap:"break-word",borderRadius:c,[`&${t}-rtl`]:{direction:"rtl"},[`${t}-content`]:{flex:1,minWidth:0},[`${t}-icon`]:{marginInlineEnd:o,lineHeight:0},"&-description":{display:"none",fontSize:s,lineHeight:i},"&-message":{color:p},[`&${t}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${u}, opacity ${n} ${u},
        padding-top ${n} ${u}, padding-bottom ${n} ${u},
        margin-bottom ${n} ${u}`},[`&${t}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${t}-with-description`]:{alignItems:"flex-start",padding:g,[`${t}-icon`]:{marginInlineEnd:r,fontSize:m,lineHeight:0},[`${t}-message`]:{display:"block",marginBottom:o,color:p,fontSize:l},[`${t}-description`]:{display:"block",color:d}},[`${t}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},So=e=>{const{componentCls:t,colorSuccess:n,colorSuccessBorder:o,colorSuccessBg:r,colorWarning:s,colorWarningBorder:l,colorWarningBg:i,colorError:c,colorErrorBorder:u,colorErrorBg:m,colorInfo:d,colorInfoBorder:p,colorInfoBg:g}=e;return{[t]:{"&-success":tt(r,o,n,e,t),"&-info":tt(g,p,d,e,t),"&-warning":tt(i,l,s,e,t),"&-error":Object.assign(Object.assign({},tt(m,u,c,e,t)),{[`${t}-description > pre`]:{margin:0,padding:0}})}}},$o=e=>{const{componentCls:t,iconCls:n,motionDurationMid:o,marginXS:r,fontSizeIcon:s,colorIcon:l,colorIconHover:i}=e;return{[t]:{"&-action":{marginInlineStart:r},[`${t}-close-icon`]:{marginInlineStart:r,padding:0,overflow:"hidden",fontSize:s,lineHeight:se(s),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:l,transition:`color ${o}`,"&:hover":{color:i}}},"&-close-text":{color:l,transition:`color ${o}`,"&:hover":{color:i}}}}},xo=e=>({withDescriptionIconSize:e.fontSizeHeading3,defaultPadding:`${e.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${e.paddingMD}px ${e.paddingContentHorizontalLG}px`}),Io=Je("Alert",e=>[yo(e),So(e),$o(e)],xo);var Ut=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Eo={success:ln,info:kn,error:cn,warning:An},Oo=e=>{const{icon:t,prefixCls:n,type:o}=e,r=Eo[o]||null;return t?Fn(t,a.createElement("span",{className:`${n}-icon`},t),()=>({className:B(`${n}-icon`,{[t.props.className]:t.props.className})})):a.createElement(r,{className:`${n}-icon`})},Ro=e=>{const{isClosable:t,prefixCls:n,closeIcon:o,handleClose:r,ariaProps:s}=e,l=o===!0||o===void 0?a.createElement(Pt,null):o;return t?a.createElement("button",Object.assign({type:"button",onClick:r,className:`${n}-close-icon`,tabIndex:0},s),l):null},Po=a.forwardRef((e,t)=>{const{description:n,prefixCls:o,message:r,banner:s,className:l,rootClassName:i,style:c,onMouseEnter:u,onMouseLeave:m,onClick:d,afterClose:p,showIcon:g,closable:v,closeText:w,closeIcon:x,action:h,id:y}=e,P=Ut(e,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[O,f]=a.useState(!1),E=a.useRef(null);a.useImperativeHandle(t,()=>({nativeElement:E.current}));const{getPrefixCls:S,direction:$,alert:C}=a.useContext(De),b=S("alert",o),[N,M,F]=Io(b),T=k=>{var I;f(!0),(I=e.onClose)===null||I===void 0||I.call(e,k)},j=a.useMemo(()=>e.type!==void 0?e.type:s?"warning":"info",[e.type,s]),z=a.useMemo(()=>typeof v=="object"&&v.closeIcon||w?!0:typeof v=="boolean"?v:x!==!1&&x!==null&&x!==void 0?!0:!!(C!=null&&C.closable),[w,x,v,C==null?void 0:C.closable]),L=s&&g===void 0?!0:g,te=B(b,`${b}-${j}`,{[`${b}-with-description`]:!!n,[`${b}-no-icon`]:!L,[`${b}-banner`]:!!s,[`${b}-rtl`]:$==="rtl"},C==null?void 0:C.className,l,i,F,M),X=sn(P,{aria:!0,data:!0}),U=a.useMemo(()=>{var k,I;return typeof v=="object"&&v.closeIcon?v.closeIcon:w||(x!==void 0?x:typeof(C==null?void 0:C.closable)=="object"&&(!((k=C==null?void 0:C.closable)===null||k===void 0)&&k.closeIcon)?(I=C==null?void 0:C.closable)===null||I===void 0?void 0:I.closeIcon:C==null?void 0:C.closeIcon)},[x,v,w,C==null?void 0:C.closeIcon]),_=a.useMemo(()=>{const k=v??(C==null?void 0:C.closable);return typeof k=="object"?Ut(k,["closeIcon"]):{}},[v,C==null?void 0:C.closable]);return N(a.createElement(Qe,{visible:!O,motionName:`${b}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:k=>({maxHeight:k.offsetHeight}),onLeaveEnd:p},(k,I)=>{let{className:H,style:J}=k;return a.createElement("div",Object.assign({id:y,ref:Rt(E,I),"data-show":!O,className:B(te,H),style:Object.assign(Object.assign(Object.assign({},C==null?void 0:C.style),c),J),onMouseEnter:u,onMouseLeave:m,onClick:d,role:"alert"},X),L?a.createElement(Oo,{description:n,icon:e.icon,prefixCls:b,type:j}):null,a.createElement("div",{className:`${b}-content`},r?a.createElement("div",{className:`${b}-message`},r):null,n?a.createElement("div",{className:`${b}-description`},n):null),h?a.createElement("div",{className:`${b}-action`},h):null,a.createElement(Ro,{isClosable:z,prefixCls:b,closeIcon:U,handleClose:T,ariaProps:_}))}))}),xn=Po;function No(e,t,n){return t=Ft(t),_n(e,Hn()?Reflect.construct(t,n||[],Ft(e).constructor):t.apply(e,n))}let jo=function(e){function t(){var n;return Mt(this,t),n=No(this,t,arguments),n.state={error:void 0,info:{componentStack:""}},n}return Nt(t,e),jt(t,[{key:"componentDidCatch",value:function(o,r){this.setState({error:o,info:r})}},{key:"render",value:function(){const{message:o,description:r,id:s,children:l}=this.props,{error:i,info:c}=this.state,u=c&&c.componentStack?c.componentStack:null,m=typeof o>"u"?(i||"").toString():o,d=typeof r>"u"?u:r;return i?a.createElement(xn,{id:s,type:"error",message:m,description:a.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},d)}):l}}])}(a.Component);const Mo=jo,In=xn;In.ErrorBoundary=Mo;const To=In;var et=a.createContext(null),Lo=function(t){var n=t.visible,o=t.maskTransitionName,r=t.getContainer,s=t.prefixCls,l=t.rootClassName,i=t.icons,c=t.countRender,u=t.showSwitch,m=t.showProgress,d=t.current,p=t.transform,g=t.count,v=t.scale,w=t.minScale,x=t.maxScale,h=t.closeIcon,y=t.onSwitchLeft,P=t.onSwitchRight,O=t.onClose,f=t.onZoomIn,E=t.onZoomOut,S=t.onRotateRight,$=t.onRotateLeft,C=t.onFlipX,b=t.onFlipY,N=t.onReset,M=t.toolbarRender,F=t.zIndex,T=t.image,j=a.useContext(et),z=i.rotateLeft,L=i.rotateRight,te=i.zoomIn,X=i.zoomOut,U=i.close,_=i.left,k=i.right,I=i.flipX,H=i.flipY,J="".concat(s,"-operations-operation");a.useEffect(function(){var q=function(oe){oe.keyCode===wt.ESC&&O()};return n&&window.addEventListener("keydown",q),function(){window.removeEventListener("keydown",q)}},[n]);var W=[{icon:H,onClick:b,type:"flipY"},{icon:I,onClick:C,type:"flipX"},{icon:z,onClick:$,type:"rotateLeft"},{icon:L,onClick:S,type:"rotateRight"},{icon:X,onClick:E,type:"zoomOut",disabled:v<=w},{icon:te,onClick:f,type:"zoomIn",disabled:v===x}],G=W.map(function(q){var D,oe=q.icon,ce=q.onClick,ue=q.type,Q=q.disabled;return a.createElement("div",{className:B(J,(D={},Y(D,"".concat(s,"-operations-operation-").concat(ue),!0),Y(D,"".concat(s,"-operations-operation-disabled"),!!Q),D)),onClick:ce,key:ue},oe)}),ne=a.createElement("div",{className:"".concat(s,"-operations")},G);return a.createElement(Qe,{visible:n,motionName:o},function(q){var D=q.className,oe=q.style;return a.createElement(Bn,{open:!0,getContainer:r??document.body},a.createElement("div",{className:B("".concat(s,"-operations-wrapper"),D,l),style:K(K({},oe),{},{zIndex:F})},h===null?null:a.createElement("button",{className:"".concat(s,"-close"),onClick:O},h||U),u&&a.createElement(a.Fragment,null,a.createElement("div",{className:B("".concat(s,"-switch-left"),Y({},"".concat(s,"-switch-left-disabled"),d===0)),onClick:y},_),a.createElement("div",{className:B("".concat(s,"-switch-right"),Y({},"".concat(s,"-switch-right-disabled"),d===g-1)),onClick:P},k)),a.createElement("div",{className:"".concat(s,"-footer")},m&&a.createElement("div",{className:"".concat(s,"-progress")},c?c(d+1,g):"".concat(d+1," / ").concat(g)),M?M(ne,K(K({icons:{flipYIcon:G[0],flipXIcon:G[1],rotateLeftIcon:G[2],rotateRightIcon:G[3],zoomOutIcon:G[4],zoomInIcon:G[5]},actions:{onFlipY:b,onFlipX:C,onRotateLeft:$,onRotateRight:S,onZoomOut:E,onZoomIn:f,onReset:N,onClose:O},transform:p},j?{current:d,total:g}:{}),{},{image:T})):ne)))})},nt={x:0,y:0,rotate:0,scale:1,flipX:!1,flipY:!1};function Do(e,t,n,o){var r=a.useRef(null),s=a.useRef([]),l=a.useState(nt),i=le(l,2),c=i[0],u=i[1],m=function(v){u(nt),Vn(nt,c)||o==null||o({transform:nt,action:v})},d=function(v,w){r.current===null&&(s.current=[],r.current=Xn(function(){u(function(x){var h=x;return s.current.forEach(function(y){h=K(K({},h),y)}),r.current=null,o==null||o({transform:h,action:w}),h})})),s.current.push(K(K({},c),v))},p=function(v,w,x,h,y){var P=e.current,O=P.width,f=P.height,E=P.offsetWidth,S=P.offsetHeight,$=P.offsetLeft,C=P.offsetTop,b=v,N=c.scale*v;N>n?(N=n,b=n/c.scale):N<t&&(N=y?N:t,b=N/c.scale);var M=x??innerWidth/2,F=h??innerHeight/2,T=b-1,j=T*O*.5,z=T*f*.5,L=T*(M-c.x-$),te=T*(F-c.y-C),X=c.x-(L-j),U=c.y-(te-z);if(v<1&&N===1){var _=E*N,k=S*N,I=Sn(),H=I.width,J=I.height;_<=H&&k<=J&&(X=0,U=0)}d({x:X,y:U,scale:N},w)};return{transform:c,resetTransform:m,updateTransform:d,dispatchZoomChange:p}}function Wt(e,t,n,o){var r=t+n,s=(n-o)/2;if(n>o){if(t>0)return Y({},e,s);if(t<0&&r<o)return Y({},e,-s)}else if(t<0||r>o)return Y({},e,t<0?s:-s);return{}}function En(e,t,n,o){var r=Sn(),s=r.width,l=r.height,i=null;return e<=s&&t<=l?i={x:0,y:0}:(e>s||t>l)&&(i=K(K({},Wt("x",n,e,s)),Wt("y",o,t,l))),i}var He=1,zo=1;function Fo(e,t,n,o,r,s,l){var i=r.rotate,c=r.scale,u=r.x,m=r.y,d=a.useState(!1),p=le(d,2),g=p[0],v=p[1],w=a.useRef({diffX:0,diffY:0,transformX:0,transformY:0}),x=function(f){!t||f.button!==0||(f.preventDefault(),f.stopPropagation(),w.current={diffX:f.pageX-u,diffY:f.pageY-m,transformX:u,transformY:m},v(!0))},h=function(f){n&&g&&s({x:f.pageX-w.current.diffX,y:f.pageY-w.current.diffY},"move")},y=function(){if(n&&g){v(!1);var f=w.current,E=f.transformX,S=f.transformY,$=u!==E&&m!==S;if(!$)return;var C=e.current.offsetWidth*c,b=e.current.offsetHeight*c,N=e.current.getBoundingClientRect(),M=N.left,F=N.top,T=i%180!==0,j=En(T?b:C,T?C:b,M,F);j&&s(K({},j),"dragRebound")}},P=function(f){if(!(!n||f.deltaY==0)){var E=Math.abs(f.deltaY/100),S=Math.min(E,zo),$=He+S*o;f.deltaY>0&&($=He/$),l($,"wheel",f.clientX,f.clientY)}};return a.useEffect(function(){var O,f,E,S;if(t){E=_e(window,"mouseup",y,!1),S=_e(window,"mousemove",h,!1);try{window.top!==window.self&&(O=_e(window.top,"mouseup",y,!1),f=_e(window.top,"mousemove",h,!1))}catch{}}return function(){var $,C,b,N;($=E)===null||$===void 0||$.remove(),(C=S)===null||C===void 0||C.remove(),(b=O)===null||b===void 0||b.remove(),(N=f)===null||N===void 0||N.remove()}},[n,g,u,m,i,t]),{isMoving:g,onMouseDown:x,onMouseMove:h,onMouseUp:y,onWheel:P}}function ko(e){return new Promise(function(t){var n=document.createElement("img");n.onerror=function(){return t(!1)},n.onload=function(){return t(!0)},n.src=e})}function On(e){var t=e.src,n=e.isCustomPlaceholder,o=e.fallback,r=a.useState(n?"loading":"normal"),s=le(r,2),l=s[0],i=s[1],c=a.useRef(!1),u=l==="error";a.useEffect(function(){var g=!0;return ko(t).then(function(v){!v&&g&&i("error")}),function(){g=!1}},[t]),a.useEffect(function(){n&&!c.current?i("loading"):u&&i("normal")},[t]);var m=function(){i("normal")},d=function(v){c.current=!1,l==="loading"&&v!==null&&v!==void 0&&v.complete&&(v.naturalWidth||v.naturalHeight)&&(c.current=!0,m())},p=u&&o?{src:o}:{onLoad:m,src:t};return[d,p,l]}function it(e,t){var n=e.x-t.x,o=e.y-t.y;return Math.hypot(n,o)}function Ao(e,t,n,o){var r=it(e,n),s=it(t,o);if(r===0&&s===0)return[e.x,e.y];var l=r/(r+s),i=e.x+l*(t.x-e.x),c=e.y+l*(t.y-e.y);return[i,c]}function _o(e,t,n,o,r,s,l){var i=r.rotate,c=r.scale,u=r.x,m=r.y,d=a.useState(!1),p=le(d,2),g=p[0],v=p[1],w=a.useRef({point1:{x:0,y:0},point2:{x:0,y:0},eventType:"none"}),x=function(f){w.current=K(K({},w.current),f)},h=function(f){if(t){f.stopPropagation(),v(!0);var E=f.touches,S=E===void 0?[]:E;S.length>1?x({point1:{x:S[0].clientX,y:S[0].clientY},point2:{x:S[1].clientX,y:S[1].clientY},eventType:"touchZoom"}):x({point1:{x:S[0].clientX-u,y:S[0].clientY-m},eventType:"move"})}},y=function(f){var E=f.touches,S=E===void 0?[]:E,$=w.current,C=$.point1,b=$.point2,N=$.eventType;if(S.length>1&&N==="touchZoom"){var M={x:S[0].clientX,y:S[0].clientY},F={x:S[1].clientX,y:S[1].clientY},T=Ao(C,b,M,F),j=le(T,2),z=j[0],L=j[1],te=it(M,F)/it(C,b);l(te,"touchZoom",z,L,!0),x({point1:M,point2:F,eventType:"touchZoom"})}else N==="move"&&(s({x:S[0].clientX-C.x,y:S[0].clientY-C.y},"move"),x({eventType:"move"}))},P=function(){if(n){if(g&&v(!1),x({eventType:"none"}),o>c)return s({x:0,y:0,scale:o},"touchZoom");var f=e.current.offsetWidth*c,E=e.current.offsetHeight*c,S=e.current.getBoundingClientRect(),$=S.left,C=S.top,b=i%180!==0,N=En(b?E:f,b?f:E,$,C);N&&s(K({},N),"dragRebound")}};return a.useEffect(function(){var O;return n&&t&&(O=_e(window,"touchmove",function(f){return f.preventDefault()},{passive:!1})),function(){var f;(f=O)===null||f===void 0||f.remove()}},[n,t]),{isTouching:g,onTouchStart:h,onTouchMove:y,onTouchEnd:P}}var Ho=["fallback","src","imgRef"],Bo=["prefixCls","src","alt","imageInfo","fallback","movable","onClose","visible","icons","rootClassName","closeIcon","getContainer","current","count","countRender","scaleStep","minScale","maxScale","transitionName","maskTransitionName","imageRender","imgCommonProps","toolbarRender","onTransform","onChange"],Vo=function(t){var n=t.fallback,o=t.src,r=t.imgRef,s=Pe(t,Ho),l=On({src:o,fallback:n}),i=le(l,2),c=i[0],u=i[1];return Ee.createElement("img",ee({ref:function(d){r.current=d,c(d)}},s,u))},Rn=function(t){var n=t.prefixCls,o=t.src,r=t.alt,s=t.imageInfo,l=t.fallback,i=t.movable,c=i===void 0?!0:i,u=t.onClose,m=t.visible,d=t.icons,p=d===void 0?{}:d,g=t.rootClassName,v=t.closeIcon,w=t.getContainer,x=t.current,h=x===void 0?0:x,y=t.count,P=y===void 0?1:y,O=t.countRender,f=t.scaleStep,E=f===void 0?.5:f,S=t.minScale,$=S===void 0?1:S,C=t.maxScale,b=C===void 0?50:C,N=t.transitionName,M=N===void 0?"zoom":N,F=t.maskTransitionName,T=F===void 0?"fade":F,j=t.imageRender,z=t.imgCommonProps,L=t.toolbarRender,te=t.onTransform,X=t.onChange,U=Pe(t,Bo),_=a.useRef(),k=a.useContext(et),I=k&&P>1,H=k&&P>=1,J=a.useState(!0),W=le(J,2),G=W[0],ne=W[1],q=Do(_,$,b,te),D=q.transform,oe=q.resetTransform,ce=q.updateTransform,ue=q.dispatchZoomChange,Q=Fo(_,c,m,E,D,ce,ue),be=Q.isMoving,Ne=Q.onMouseDown,xe=Q.onWheel,pe=_o(_,c,m,$,D,ce,ue),ge=pe.isTouching,ve=pe.onTouchStart,ye=pe.onTouchMove,Re=pe.onTouchEnd,Se=D.rotate,$e=D.scale,Ue=B(Y({},"".concat(n,"-moving"),be));a.useEffect(function(){G||ne(!0)},[G]);var We=function(){oe("close")},qe=function(){ue(He+E,"zoomIn")},Ce=function(){ue(He/(He+E),"zoomOut")},we=function(){ce({rotate:Se+90},"rotateRight")},Fe=function(){ce({rotate:Se-90},"rotateLeft")},ke=function(){ce({flipX:!D.flipX},"flipX")},ze=function(){ce({flipY:!D.flipY},"flipY")},A=function(){oe("reset")},Z=function(ae){ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),h>0&&(ne(!1),oe("prev"),X==null||X(h-1,h))},ie=function(ae){ae==null||ae.preventDefault(),ae==null||ae.stopPropagation(),h<P-1&&(ne(!1),oe("next"),X==null||X(h+1,h))},V=function(ae){!m||!I||(ae.keyCode===wt.LEFT?Z():ae.keyCode===wt.RIGHT&&ie())},re=function(ae){m&&($e!==1?ce({x:0,y:0,scale:1},"doubleClick"):ue(He+E,"doubleClick",ae.clientX,ae.clientY))};a.useEffect(function(){var de=_e(window,"keydown",V,!1);return function(){de.remove()}},[m,I,h]);var me=Ee.createElement(Vo,ee({},z,{width:t.width,height:t.height,imgRef:_,className:"".concat(n,"-img"),alt:r,style:{transform:"translate3d(".concat(D.x,"px, ").concat(D.y,"px, 0) scale3d(").concat(D.flipX?"-":"").concat($e,", ").concat(D.flipY?"-":"").concat($e,", 1) rotate(").concat(Se,"deg)"),transitionDuration:(!G||ge)&&"0s"},fallback:l,src:o,onWheel:xe,onMouseDown:Ne,onDoubleClick:re,onTouchStart:ve,onTouchMove:ye,onTouchEnd:Re,onTouchCancel:Re})),Ie=K({url:o,alt:r},s);return Ee.createElement(Ee.Fragment,null,Ee.createElement(Un,ee({transitionName:M,maskTransitionName:T,closable:!1,keyboard:!0,prefixCls:n,onClose:u,visible:m,classNames:{wrapper:Ue},rootClassName:g,getContainer:w},U,{afterClose:We}),Ee.createElement("div",{className:"".concat(n,"-img-wrapper")},j?j(me,K({transform:D,image:Ie},k?{current:h}:{})):me)),Ee.createElement(Lo,{visible:m,transform:D,maskTransitionName:T,closeIcon:v,getContainer:w,prefixCls:n,rootClassName:g,icons:p,countRender:O,showSwitch:I,showProgress:H,current:h,count:P,scale:$e,minScale:$,maxScale:b,toolbarRender:L,onSwitchLeft:Z,onSwitchRight:ie,onZoomIn:qe,onZoomOut:Ce,onRotateRight:we,onRotateLeft:Fe,onFlipX:ke,onFlipY:ze,onClose:u,onReset:A,zIndex:U.zIndex!==void 0?U.zIndex+1:void 0,image:Ie}))},xt=["crossOrigin","decoding","draggable","loading","referrerPolicy","sizes","srcSet","useMap","alt"];function Xo(e){var t=a.useState({}),n=le(t,2),o=n[0],r=n[1],s=a.useCallback(function(i,c){return r(function(u){return K(K({},u),{},Y({},i,c))}),function(){r(function(u){var m=K({},u);return delete m[i],m})}},[]),l=a.useMemo(function(){return e?e.map(function(i){if(typeof i=="string")return{data:{src:i}};var c={};return Object.keys(i).forEach(function(u){["src"].concat(Me(xt)).includes(u)&&(c[u]=i[u])}),{data:c}}):Object.keys(o).reduce(function(i,c){var u=o[c],m=u.canPreview,d=u.data;return m&&i.push({data:d,id:c}),i},[])},[e,o]);return[l,s,!!e]}var Uo=["visible","onVisibleChange","getContainer","current","movable","minScale","maxScale","countRender","closeIcon","onChange","onTransform","toolbarRender","imageRender"],Wo=["src"],qo=function(t){var n,o=t.previewPrefixCls,r=o===void 0?"rc-image-preview":o,s=t.children,l=t.icons,i=l===void 0?{}:l,c=t.items,u=t.preview,m=t.fallback,d=Oe(u)==="object"?u:{},p=d.visible,g=d.onVisibleChange,v=d.getContainer,w=d.current,x=d.movable,h=d.minScale,y=d.maxScale,P=d.countRender,O=d.closeIcon,f=d.onChange,E=d.onTransform,S=d.toolbarRender,$=d.imageRender,C=Pe(d,Uo),b=Xo(c),N=le(b,3),M=N[0],F=N[1],T=N[2],j=Ge(0,{value:w}),z=le(j,2),L=z[0],te=z[1],X=a.useState(!1),U=le(X,2),_=U[0],k=U[1],I=((n=M[L])===null||n===void 0?void 0:n.data)||{},H=I.src,J=Pe(I,Wo),W=Ge(!!p,{value:p,onChange:function(ge,ve){g==null||g(ge,ve,L)}}),G=le(W,2),ne=G[0],q=G[1],D=a.useState(null),oe=le(D,2),ce=oe[0],ue=oe[1],Q=a.useCallback(function(pe,ge,ve,ye){var Re=T?M.findIndex(function(Se){return Se.data.src===ge}):M.findIndex(function(Se){return Se.id===pe});te(Re<0?0:Re),q(!0),ue({x:ve,y:ye}),k(!0)},[M,T]);a.useEffect(function(){ne?_||te(0):k(!1)},[ne]);var be=function(ge,ve){te(ge),f==null||f(ge,ve)},Ne=function(){q(!1),ue(null)},xe=a.useMemo(function(){return{register:F,onPreview:Q}},[F,Q]);return a.createElement(et.Provider,{value:xe},s,a.createElement(Rn,ee({"aria-hidden":!ne,movable:x,visible:ne,prefixCls:r,closeIcon:O,onClose:Ne,mousePosition:ce,imgCommonProps:J,src:H,fallback:m,icons:i,minScale:h,maxScale:y,getContainer:v,current:L,count:M.length,countRender:P,onTransform:E,toolbarRender:S,imageRender:$,onChange:be},C)))},qt=0;function Zo(e,t){var n=a.useState(function(){return qt+=1,String(qt)}),o=le(n,1),r=o[0],s=a.useContext(et),l={data:t,canPreview:e};return a.useEffect(function(){if(s)return s.register(r,l)},[]),a.useEffect(function(){s&&s.register(r,l)},[e,t]),r}var Yo=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName"],Go=["src","visible","onVisibleChange","getContainer","mask","maskClassName","movable","icons","scaleStep","minScale","maxScale","imageRender","toolbarRender"],Dt=function(t){var n=t.src,o=t.alt,r=t.onPreviewClose,s=t.prefixCls,l=s===void 0?"rc-image":s,i=t.previewPrefixCls,c=i===void 0?"".concat(l,"-preview"):i,u=t.placeholder,m=t.fallback,d=t.width,p=t.height,g=t.style,v=t.preview,w=v===void 0?!0:v,x=t.className,h=t.onClick,y=t.onError,P=t.wrapperClassName,O=t.wrapperStyle,f=t.rootClassName,E=Pe(t,Yo),S=u&&u!==!0,$=Oe(w)==="object"?w:{},C=$.src,b=$.visible,N=b===void 0?void 0:b,M=$.onVisibleChange,F=M===void 0?r:M,T=$.getContainer,j=T===void 0?void 0:T,z=$.mask,L=$.maskClassName,te=$.movable,X=$.icons,U=$.scaleStep,_=$.minScale,k=$.maxScale,I=$.imageRender,H=$.toolbarRender,J=Pe($,Go),W=C??n,G=Ge(!!N,{value:N,onChange:F}),ne=le(G,2),q=ne[0],D=ne[1],oe=On({src:n,isCustomPlaceholder:S,fallback:m}),ce=le(oe,3),ue=ce[0],Q=ce[1],be=ce[2],Ne=a.useState(null),xe=le(Ne,2),pe=xe[0],ge=xe[1],ve=a.useContext(et),ye=!!w,Re=function(){D(!1),ge(null)},Se=B(l,P,f,Y({},"".concat(l,"-error"),be==="error")),$e=a.useMemo(function(){var Ce={};return xt.forEach(function(we){t[we]!==void 0&&(Ce[we]=t[we])}),Ce},xt.map(function(Ce){return t[Ce]})),Ue=a.useMemo(function(){return K(K({},$e),{},{src:W})},[W,$e]),We=Zo(ye,Ue),qe=function(we){var Fe=fo(we.target),ke=Fe.left,ze=Fe.top;ve?ve.onPreview(We,W,ke,ze):(ge({x:ke,y:ze}),D(!0)),h==null||h(we)};return a.createElement(a.Fragment,null,a.createElement("div",ee({},E,{className:Se,onClick:ye?qe:h,style:K({width:d,height:p},O)}),a.createElement("img",ee({},$e,{className:B("".concat(l,"-img"),Y({},"".concat(l,"-img-placeholder"),u===!0),x),style:K({height:p},g),ref:ue},Q,{width:d,height:p,onError:y})),be==="loading"&&a.createElement("div",{"aria-hidden":"true",className:"".concat(l,"-placeholder")},u),z&&ye&&a.createElement("div",{className:B("".concat(l,"-mask"),L),style:{display:(g==null?void 0:g.display)==="none"?"none":void 0}},z)),!ve&&ye&&a.createElement(Rn,ee({"aria-hidden":!q,visible:q,prefixCls:c,onClose:Re,mousePosition:pe,src:W,alt:o,imageInfo:{width:d,height:p},fallback:m,getContainer:j,icons:X,movable:te,scaleStep:U,minScale:_,maxScale:k,rootClassName:f,imageRender:I,imgCommonProps:$e,toolbarRender:H},J)))};Dt.PreviewGroup=qo;var Ko={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const Jo=Ko;var Qo=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Jo}))},er=a.forwardRef(Qo);const tr=er;var nr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const or=nr;var rr=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:or}))},ar=a.forwardRef(rr);const ir=ar;var sr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"swap",theme:"outlined"};const lr=sr;var cr=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:lr}))},ur=a.forwardRef(cr);const Zt=ur;var dr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const mr=dr;var fr=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:mr}))},pr=a.forwardRef(fr);const gr=pr;var vr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const hr=vr;var br=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:hr}))},Cr=a.forwardRef(br);const wr=Cr,It=e=>({position:e||"absolute",inset:0}),yr=e=>{const{iconCls:t,motionDurationSlow:n,paddingXXS:o,marginXXS:r,prefixCls:s,colorTextLightSolid:l}=e;return{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",color:l,background:new Te("#000").setAlpha(.5).toRgbString(),cursor:"pointer",opacity:0,transition:`opacity ${n}`,[`.${s}-mask-info`]:Object.assign(Object.assign({},ut),{padding:`0 ${se(o)}`,[t]:{marginInlineEnd:r,svg:{verticalAlign:"baseline"}}})}},Sr=e=>{const{previewCls:t,modalMaskBg:n,paddingSM:o,marginXL:r,margin:s,paddingLG:l,previewOperationColorDisabled:i,previewOperationHoverColor:c,motionDurationSlow:u,iconCls:m,colorTextLightSolid:d}=e,p=new Te(n).setAlpha(.1),g=p.clone().setAlpha(.2);return{[`${t}-footer`]:{position:"fixed",bottom:r,left:{_skip_check_:!0,value:0},width:"100%",display:"flex",flexDirection:"column",alignItems:"center",color:e.previewOperationColor},[`${t}-progress`]:{marginBottom:s},[`${t}-close`]:{position:"fixed",top:r,right:{_skip_check_:!0,value:r},display:"flex",color:d,backgroundColor:p.toRgbString(),borderRadius:"50%",padding:o,outline:0,border:0,cursor:"pointer",transition:`all ${u}`,"&:hover":{backgroundColor:g.toRgbString()},[`& > ${m}`]:{fontSize:e.previewOperationSize}},[`${t}-operations`]:{display:"flex",alignItems:"center",padding:`0 ${se(l)}`,backgroundColor:p.toRgbString(),borderRadius:100,"&-operation":{marginInlineStart:o,padding:o,cursor:"pointer",transition:`all ${u}`,userSelect:"none",[`&:not(${t}-operations-operation-disabled):hover > ${m}`]:{color:c},"&-disabled":{color:i,cursor:"not-allowed"},"&:first-of-type":{marginInlineStart:0},[`& > ${m}`]:{fontSize:e.previewOperationSize}}}}},$r=e=>{const{modalMaskBg:t,iconCls:n,previewOperationColorDisabled:o,previewCls:r,zIndexPopup:s,motionDurationSlow:l}=e,i=new Te(t).setAlpha(.1),c=i.clone().setAlpha(.2);return{[`${r}-switch-left, ${r}-switch-right`]:{position:"fixed",insetBlockStart:"50%",zIndex:e.calc(s).add(1).equal(),display:"flex",alignItems:"center",justifyContent:"center",width:e.imagePreviewSwitchSize,height:e.imagePreviewSwitchSize,marginTop:e.calc(e.imagePreviewSwitchSize).mul(-1).div(2).equal(),color:e.previewOperationColor,background:i.toRgbString(),borderRadius:"50%",transform:"translateY(-50%)",cursor:"pointer",transition:`all ${l}`,userSelect:"none","&:hover":{background:c.toRgbString()},"&-disabled":{"&, &:hover":{color:o,background:"transparent",cursor:"not-allowed",[`> ${n}`]:{cursor:"not-allowed"}}},[`> ${n}`]:{fontSize:e.previewOperationSize}},[`${r}-switch-left`]:{insetInlineStart:e.marginSM},[`${r}-switch-right`]:{insetInlineEnd:e.marginSM}}},xr=e=>{const{motionEaseOut:t,previewCls:n,motionDurationSlow:o,componentCls:r}=e;return[{[`${r}-preview-root`]:{[n]:{height:"100%",textAlign:"center",pointerEvents:"none"},[`${n}-body`]:Object.assign(Object.assign({},It()),{overflow:"hidden"}),[`${n}-img`]:{maxWidth:"100%",maxHeight:"70%",verticalAlign:"middle",transform:"scale3d(1, 1, 1)",cursor:"grab",transition:`transform ${o} ${t} 0s`,userSelect:"none","&-wrapper":Object.assign(Object.assign({},It()),{transition:`transform ${o} ${t} 0s`,display:"flex",justifyContent:"center",alignItems:"center","& > *":{pointerEvents:"auto"},"&::before":{display:"inline-block",width:1,height:"50%",marginInlineEnd:-1,content:'""'}})},[`${n}-moving`]:{[`${n}-preview-img`]:{cursor:"grabbing","&-wrapper":{transitionDuration:"0s"}}}}},{[`${r}-preview-root`]:{[`${n}-wrap`]:{zIndex:e.zIndexPopup}}},{[`${r}-preview-operations-wrapper`]:{position:"fixed",zIndex:e.calc(e.zIndexPopup).add(1).equal()},"&":[Sr(e),$r(e)]}]},Ir=e=>{const{componentCls:t}=e;return{[t]:{position:"relative",display:"inline-block",[`${t}-img`]:{width:"100%",height:"auto",verticalAlign:"middle"},[`${t}-img-placeholder`]:{backgroundColor:e.colorBgContainerDisabled,backgroundImage:"url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTQuNSAyLjVoLTEzQS41LjUgMCAwIDAgMSAzdjEwYS41LjUgMCAwIDAgLjUuNWgxM2EuNS41IDAgMCAwIC41LS41VjNhLjUuNSAwIDAgMC0uNS0uNXpNNS4yODEgNC43NWExIDEgMCAwIDEgMCAyIDEgMSAwIDAgMSAwLTJ6bTguMDMgNi44M2EuMTI3LjEyNyAwIDAgMS0uMDgxLjAzSDIuNzY5YS4xMjUuMTI1IDAgMCAxLS4wOTYtLjIwN2wyLjY2MS0zLjE1NmEuMTI2LjEyNiAwIDAgMSAuMTc3LS4wMTZsLjAxNi4wMTZMNy4wOCAxMC4wOWwyLjQ3LTIuOTNhLjEyNi4xMjYgMCAwIDEgLjE3Ny0uMDE2bC4wMTUuMDE2IDMuNTg4IDQuMjQ0YS4xMjcuMTI3IDAgMCAxLS4wMi4xNzV6IiBmaWxsPSIjOEM4QzhDIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4=')",backgroundRepeat:"no-repeat",backgroundPosition:"center center",backgroundSize:"30%"},[`${t}-mask`]:Object.assign({},yr(e)),[`${t}-mask:hover`]:{opacity:1},[`${t}-placeholder`]:Object.assign({},It())}}},Er=e=>{const{previewCls:t}=e;return{[`${t}-root`]:qn(e,"zoom"),"&":un(e,!0)}},Or=e=>({zIndexPopup:e.zIndexPopupBase+80,previewOperationColor:new Te(e.colorTextLightSolid).setAlpha(.65).toRgbString(),previewOperationHoverColor:new Te(e.colorTextLightSolid).setAlpha(.85).toRgbString(),previewOperationColorDisabled:new Te(e.colorTextLightSolid).setAlpha(.25).toRgbString(),previewOperationSize:e.fontSizeIcon*1.5}),Pn=Je("Image",e=>{const t=`${e.componentCls}-preview`,n=Ke(e,{previewCls:t,modalMaskBg:new Te("#000").setAlpha(.45).toRgbString(),imagePreviewSwitchSize:e.controlHeightLG});return[Ir(n),xr(n),Wn(Ke(n,{componentCls:t})),Er(n)]},Or);var Rr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Nn={rotateLeft:a.createElement(tr,null),rotateRight:a.createElement(ir,null),zoomIn:a.createElement(gr,null),zoomOut:a.createElement(wr,null),close:a.createElement(Pt,null),left:a.createElement(Zn,null),right:a.createElement(Yn,null),flipX:a.createElement(Zt,null),flipY:a.createElement(Zt,{rotate:90})},Pr=e=>{var{previewPrefixCls:t,preview:n}=e,o=Rr(e,["previewPrefixCls","preview"]);const{getPrefixCls:r}=a.useContext(De),s=r("image",t),l=`${s}-preview`,i=r(),c=dn(s),[u,m,d]=Pn(s,c),[p]=mn("ImagePreview",typeof n=="object"?n.zIndex:void 0),g=a.useMemo(()=>{var v;if(n===!1)return n;const w=typeof n=="object"?n:{},x=B(m,d,c,(v=w.rootClassName)!==null&&v!==void 0?v:"");return Object.assign(Object.assign({},w),{transitionName:at(i,"zoom",w.transitionName),maskTransitionName:at(i,"fade",w.maskTransitionName),rootClassName:x,zIndex:p})},[n]);return u(a.createElement(Dt.PreviewGroup,Object.assign({preview:g,previewPrefixCls:l,icons:Nn},o)))},Nr=Pr;var Yt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const jn=e=>{var t;const{prefixCls:n,preview:o,className:r,rootClassName:s,style:l}=e,i=Yt(e,["prefixCls","preview","className","rootClassName","style"]),{getPrefixCls:c,locale:u=yt,getPopupContainer:m,image:d}=a.useContext(De),p=c("image",n),g=c(),v=u.Image||yt.Image,w=dn(p),[x,h,y]=Pn(p,w),P=B(s,h,y,w),O=B(r,h,d==null?void 0:d.className),[f]=mn("ImagePreview",typeof o=="object"?o.zIndex:void 0),E=a.useMemo(()=>{var $;if(o===!1)return o;const C=typeof o=="object"?o:{},{getContainer:b,closeIcon:N}=C,M=Yt(C,["getContainer","closeIcon"]);return Object.assign(Object.assign({mask:a.createElement("div",{className:`${p}-mask-info`},a.createElement(fn,null),v==null?void 0:v.preview),icons:Nn},M),{getContainer:b??m,transitionName:at(g,"zoom",C.transitionName),maskTransitionName:at(g,"fade",C.maskTransitionName),zIndex:f,closeIcon:N??(($=d==null?void 0:d.preview)===null||$===void 0?void 0:$.closeIcon)})},[o,v,(t=d==null?void 0:d.preview)===null||t===void 0?void 0:t.closeIcon]),S=Object.assign(Object.assign({},d==null?void 0:d.style),l);return x(a.createElement(Dt,Object.assign({prefixCls:p,preview:E,rootClassName:P,className:O,style:S},i)))};jn.PreviewGroup=Nr;const jr=jn;var Mr={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},Tr=function(){var t=a.useRef([]),n=a.useRef(null);return a.useEffect(function(){var o=Date.now(),r=!1;t.current.forEach(function(s){if(s){r=!0;var l=s.style;l.transitionDuration=".3s, .3s, .3s, .06s",n.current&&o-n.current<100&&(l.transitionDuration="0s, 0s")}}),r&&(n.current=Date.now())}),t.current},Gt=0,Lr=Gn();function Dr(){var e;return Lr?(e=Gt,Gt+=1):e="TEST_OR_SSR",e}const zr=function(e){var t=a.useState(),n=le(t,2),o=n[0],r=n[1];return a.useEffect(function(){r("rc_progress_".concat(Dr()))},[]),e||o};var Kt=function(t){var n=t.bg,o=t.children;return a.createElement("div",{style:{width:"100%",height:"100%",background:n}},o)};function Jt(e,t){return Object.keys(e).map(function(n){var o=parseFloat(n),r="".concat(Math.floor(o*t),"%");return"".concat(e[n]," ").concat(r)})}var Fr=a.forwardRef(function(e,t){var n=e.prefixCls,o=e.color,r=e.gradientId,s=e.radius,l=e.style,i=e.ptg,c=e.strokeLinecap,u=e.strokeWidth,m=e.size,d=e.gapDegree,p=o&&Oe(o)==="object",g=p?"#FFF":void 0,v=m/2,w=a.createElement("circle",{className:"".concat(n,"-circle-path"),r:s,cx:v,cy:v,stroke:g,strokeLinecap:c,strokeWidth:u,opacity:i===0?0:1,style:l,ref:t});if(!p)return w;var x="".concat(r,"-conic"),h=d?"".concat(180+d/2,"deg"):"0deg",y=Jt(o,(360-d)/360),P=Jt(o,1),O="conic-gradient(from ".concat(h,", ").concat(y.join(", "),")"),f="linear-gradient(to ".concat(d?"bottom":"top",", ").concat(P.join(", "),")");return a.createElement(a.Fragment,null,a.createElement("mask",{id:x},w),a.createElement("foreignObject",{x:0,y:0,width:m,height:m,mask:"url(#".concat(x,")")},a.createElement(Kt,{bg:f},a.createElement(Kt,{bg:O}))))}),Ze=100,pt=function(t,n,o,r,s,l,i,c,u,m){var d=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,p=o/100*360*((360-l)/360),g=l===0?0:{bottom:0,top:180,left:90,right:-90}[i],v=(100-r)/100*n;u==="round"&&r!==100&&(v+=m/2,v>=n&&(v=n-.01));var w=Ze/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:v+d,transform:"rotate(".concat(s+p+g,"deg)"),transformOrigin:"".concat(w,"px ").concat(w,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},kr=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Qt(e){var t=e??[];return Array.isArray(t)?t:[t]}var Ar=function(t){var n=K(K({},Mr),t),o=n.id,r=n.prefixCls,s=n.steps,l=n.strokeWidth,i=n.trailWidth,c=n.gapDegree,u=c===void 0?0:c,m=n.gapPosition,d=n.trailColor,p=n.strokeLinecap,g=n.style,v=n.className,w=n.strokeColor,x=n.percent,h=Pe(n,kr),y=Ze/2,P=zr(o),O="".concat(P,"-gradient"),f=y-l/2,E=Math.PI*2*f,S=u>0?90+u/2:-90,$=E*((360-u)/360),C=Oe(s)==="object"?s:{count:s,gap:2},b=C.count,N=C.gap,M=Qt(x),F=Qt(w),T=F.find(function(_){return _&&Oe(_)==="object"}),j=T&&Oe(T)==="object",z=j?"butt":p,L=pt(E,$,0,100,S,u,m,d,z,l),te=Tr(),X=function(){var k=0;return M.map(function(I,H){var J=F[H]||F[F.length-1],W=pt(E,$,k,I,S,u,m,J,z,l);return k+=I,a.createElement(Fr,{key:H,color:J,ptg:I,radius:f,prefixCls:r,gradientId:O,style:W,strokeLinecap:z,strokeWidth:l,gapDegree:u,ref:function(ne){te[H]=ne},size:Ze})}).reverse()},U=function(){var k=Math.round(b*(M[0]/100)),I=100/b,H=0;return new Array(b).fill(null).map(function(J,W){var G=W<=k-1?F[0]:d,ne=G&&Oe(G)==="object"?"url(#".concat(O,")"):void 0,q=pt(E,$,H,I,S,u,m,G,"butt",l,N);return H+=($-q.strokeDashoffset+N)*100/$,a.createElement("circle",{key:W,className:"".concat(r,"-circle-path"),r:f,cx:y,cy:y,stroke:ne,strokeWidth:l,opacity:1,style:q,ref:function(oe){te[W]=oe}})})};return a.createElement("svg",ee({className:B("".concat(r,"-circle"),v),viewBox:"0 0 ".concat(Ze," ").concat(Ze),style:g,id:o,role:"presentation"},h),!b&&a.createElement("circle",{className:"".concat(r,"-circle-trail"),r:f,cx:y,cy:y,stroke:d,strokeLinecap:z,strokeWidth:i||l,style:L}),b?U():X())};function Le(e){return!e||e<0?0:e>100?100:e}function st(e){let{success:t,successPercent:n}=e,o=n;return t&&"progress"in t&&(o=t.progress),t&&"percent"in t&&(o=t.percent),o}const _r=e=>{let{percent:t,success:n,successPercent:o}=e;const r=Le(st({success:n,successPercent:o}));return[r,Le(Le(t)-r)]},Hr=e=>{let{success:t={},strokeColor:n}=e;const{strokeColor:o}=t;return[o||St.green,n||null]},ft=(e,t,n)=>{var o,r,s,l;let i=-1,c=-1;if(t==="step"){const u=n.steps,m=n.strokeWidth;typeof e=="string"||typeof e>"u"?(i=e==="small"?2:14,c=m??8):typeof e=="number"?[i,c]=[e,e]:[i=14,c=8]=Array.isArray(e)?e:[e.width,e.height],i*=u}else if(t==="line"){const u=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?c=u||(e==="small"?6:8):typeof e=="number"?[i,c]=[e,e]:[i=-1,c=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[i,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[i,c]=[e,e]:Array.isArray(e)&&(i=(r=(o=e[0])!==null&&o!==void 0?o:e[1])!==null&&r!==void 0?r:120,c=(l=(s=e[0])!==null&&s!==void 0?s:e[1])!==null&&l!==void 0?l:120));return[i,c]},Br=3,Vr=e=>Br/e*100,Xr=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:o="round",gapPosition:r,gapDegree:s,width:l=120,type:i,children:c,success:u,size:m=l,steps:d}=e,[p,g]=ft(m,"circle");let{strokeWidth:v}=e;v===void 0&&(v=Math.max(Vr(p),6));const w={width:p,height:g,fontSize:p*.15+6},x=a.useMemo(()=>{if(s||s===0)return s;if(i==="dashboard")return 75},[s,i]),h=_r(e),y=r||i==="dashboard"&&"bottom"||void 0,P=Object.prototype.toString.call(e.strokeColor)==="[object Object]",O=Hr({success:u,strokeColor:e.strokeColor}),f=B(`${t}-inner`,{[`${t}-circle-gradient`]:P}),E=a.createElement(Ar,{steps:d,percent:d?h[1]:h,strokeWidth:v,trailWidth:v,strokeColor:d?O[1]:O,strokeLinecap:o,trailColor:n,prefixCls:t,gapDegree:x,gapPosition:y}),S=p<=20,$=a.createElement("div",{className:f,style:w},E,!S&&c);return S?a.createElement(pn,{title:c},$):$},Ur=Xr,lt="--progress-line-stroke-color",Mn="--progress-percent",en=e=>{const t=e?"100%":"-100%";return new $t(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Wr=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},ct(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${lt})`]},height:"100%",width:`calc(1 / var(${Mn}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${se(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:en(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:en(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},qr=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},Zr=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},Yr=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},Gr=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),Kr=Je("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Ke(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Wr(n),qr(n),Zr(n),Yr(n)]},Gr);var Jr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const Qr=e=>{let t=[];return Object.keys(e).forEach(n=>{const o=parseFloat(n.replace(/%/g,""));isNaN(o)||t.push({key:o,value:e[n]})}),t=t.sort((n,o)=>n.key-o.key),t.map(n=>{let{key:o,value:r}=n;return`${r} ${o}%`}).join(", ")},ea=(e,t)=>{const{from:n=St.blue,to:o=St.blue,direction:r=t==="rtl"?"to left":"to right"}=e,s=Jr(e,["from","to","direction"]);if(Object.keys(s).length!==0){const i=Qr(s),c=`linear-gradient(${r}, ${i})`;return{background:c,[lt]:c}}const l=`linear-gradient(${r}, ${n}, ${o})`;return{background:l,[lt]:l}},ta=e=>{const{prefixCls:t,direction:n,percent:o,size:r,strokeWidth:s,strokeColor:l,strokeLinecap:i="round",children:c,trailColor:u=null,percentPosition:m,success:d}=e,{align:p,type:g}=m,v=l&&typeof l!="string"?ea(l,n):{[lt]:l,background:l},w=i==="square"||i==="butt"?0:void 0,x=r??[-1,s||(r==="small"?6:8)],[h,y]=ft(x,"line",{strokeWidth:s}),P={backgroundColor:u||void 0,borderRadius:w},O=Object.assign(Object.assign({width:`${Le(o)}%`,height:y,borderRadius:w},v),{[Mn]:Le(o)/100}),f=st(e),E={width:`${Le(f)}%`,height:y,borderRadius:w,backgroundColor:d==null?void 0:d.strokeColor},S={width:h<0?"100%":h},$=a.createElement("div",{className:`${t}-inner`,style:P},a.createElement("div",{className:B(`${t}-bg`,`${t}-bg-${g}`),style:O},g==="inner"&&c),f!==void 0&&a.createElement("div",{className:`${t}-success-bg`,style:E})),C=g==="outer"&&p==="start",b=g==="outer"&&p==="end";return g==="outer"&&p==="center"?a.createElement("div",{className:`${t}-layout-bottom`},$,c):a.createElement("div",{className:`${t}-outer`,style:S},C&&c,$,b&&c)},na=ta,oa=e=>{const{size:t,steps:n,percent:o=0,strokeWidth:r=8,strokeColor:s,trailColor:l=null,prefixCls:i,children:c}=e,u=Math.round(n*(o/100)),d=t??[t==="small"?2:14,r],[p,g]=ft(d,"step",{steps:n,strokeWidth:r}),v=p/n,w=new Array(n);for(let x=0;x<n;x++){const h=Array.isArray(s)?s[x]:s;w[x]=a.createElement("div",{key:x,className:B(`${i}-steps-item`,{[`${i}-steps-item-active`]:x<=u-1}),style:{backgroundColor:x<=u-1?h:l,width:v,height:g}})}return a.createElement("div",{className:`${i}-steps-outer`},w,c)},ra=oa;var aa=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const ia=["normal","exception","active","success"],sa=a.forwardRef((e,t)=>{const{prefixCls:n,className:o,rootClassName:r,steps:s,strokeColor:l,percent:i=0,size:c="default",showInfo:u=!0,type:m="line",status:d,format:p,style:g,percentPosition:v={}}=e,w=aa(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:x="end",type:h="outer"}=v,y=Array.isArray(l)?l[0]:l,P=typeof l=="string"||Array.isArray(l)?l:void 0,O=a.useMemo(()=>{if(y){const X=typeof y=="string"?y:Object.values(y)[0];return new Te(X).isLight()}return!1},[l]),f=a.useMemo(()=>{var X,U;const _=st(e);return parseInt(_!==void 0?(X=_??0)===null||X===void 0?void 0:X.toString():(U=i??0)===null||U===void 0?void 0:U.toString(),10)},[i,e.success,e.successPercent]),E=a.useMemo(()=>!ia.includes(d)&&f>=100?"success":d||"normal",[d,f]),{getPrefixCls:S,direction:$,progress:C}=a.useContext(De),b=S("progress",n),[N,M,F]=Kr(b),T=m==="line",j=T&&!s,z=a.useMemo(()=>{if(!u)return null;const X=st(e);let U;const _=p||(I=>`${I}%`),k=T&&O&&h==="inner";return h==="inner"||p||E!=="exception"&&E!=="success"?U=_(Le(i),Le(X)):E==="exception"?U=T?a.createElement(cn,null):a.createElement(Pt,null):E==="success"&&(U=T?a.createElement(ln,null):a.createElement(bo,null)),a.createElement("span",{className:B(`${b}-text`,{[`${b}-text-bright`]:k,[`${b}-text-${x}`]:j,[`${b}-text-${h}`]:j}),title:typeof U=="string"?U:void 0},U)},[u,i,f,E,m,b,p]);let L;m==="line"?L=s?a.createElement(ra,Object.assign({},e,{strokeColor:P,prefixCls:b,steps:typeof s=="object"?s.count:s}),z):a.createElement(na,Object.assign({},e,{strokeColor:y,prefixCls:b,direction:$,percentPosition:{align:x,type:h}}),z):(m==="circle"||m==="dashboard")&&(L=a.createElement(Ur,Object.assign({},e,{strokeColor:y,prefixCls:b,progressStatus:E}),z));const te=B(b,`${b}-status-${E}`,{[`${b}-${m==="dashboard"&&"circle"||m}`]:m!=="line",[`${b}-inline-circle`]:m==="circle"&&ft(c,"circle")[0]<=20,[`${b}-line`]:j,[`${b}-line-align-${x}`]:j,[`${b}-line-position-${h}`]:j,[`${b}-steps`]:s,[`${b}-show-info`]:u,[`${b}-${c}`]:typeof c=="string",[`${b}-rtl`]:$==="rtl"},C==null?void 0:C.className,o,r,M,F);return N(a.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},C==null?void 0:C.style),g),className:te,role:"progressbar","aria-valuenow":f},gn(w,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),L))}),Tn=sa;var tn=function(t){return t?{left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth}:null},Ae=function(t){return t!==void 0?"".concat(t,"px"):void 0};function la(e){var t=e.prefixCls,n=e.containerRef,o=e.value,r=e.getValueIndex,s=e.motionName,l=e.onMotionStart,i=e.onMotionEnd,c=e.direction,u=a.useRef(null),m=a.useState(o),d=le(m,2),p=d[0],g=d[1],v=function(F){var T,j=r(F),z=(T=n.current)===null||T===void 0?void 0:T.querySelectorAll(".".concat(t,"-item"))[j];return(z==null?void 0:z.offsetParent)&&z},w=a.useState(null),x=le(w,2),h=x[0],y=x[1],P=a.useState(null),O=le(P,2),f=O[0],E=O[1];Kn(function(){if(p!==o){var M=v(p),F=v(o),T=tn(M),j=tn(F);g(o),y(T),E(j),M&&F?l():i()}},[o]);var S=a.useMemo(function(){return Ae(c==="rtl"?-(h==null?void 0:h.right):h==null?void 0:h.left)},[c,h]),$=a.useMemo(function(){return Ae(c==="rtl"?-(f==null?void 0:f.right):f==null?void 0:f.left)},[c,f]),C=function(){return{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},b=function(){return{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},N=function(){y(null),E(null),i()};return!h||!f?null:a.createElement(Qe,{visible:!0,motionName:s,motionAppear:!0,onAppearStart:C,onAppearActive:b,onVisibleChanged:N},function(M,F){var T=M.className,j=M.style,z=K(K({},j),{},{"--thumb-start-left":S,"--thumb-start-width":Ae(h==null?void 0:h.width),"--thumb-active-left":$,"--thumb-active-width":Ae(f==null?void 0:f.width)}),L={ref:Rt(u,F),style:z,className:B("".concat(t,"-thumb"),T)};return a.createElement("div",L)})}var ca=["prefixCls","direction","options","disabled","defaultValue","value","onChange","className","motionName"];function ua(e){if(typeof e.title<"u")return e.title;if(Oe(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function da(e){return e.map(function(t){if(Oe(t)==="object"&&t!==null){var n=ua(t);return K(K({},t),{},{title:n})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var ma=function(t){var n=t.prefixCls,o=t.className,r=t.disabled,s=t.checked,l=t.label,i=t.title,c=t.value,u=t.onChange,m=function(p){r||u(p,c)};return a.createElement("label",{className:B(o,Y({},"".concat(n,"-item-disabled"),r))},a.createElement("input",{className:"".concat(n,"-item-input"),type:"radio",disabled:r,checked:s,onChange:m}),a.createElement("div",{className:"".concat(n,"-item-label"),title:i},l))},fa=a.forwardRef(function(e,t){var n,o,r=e.prefixCls,s=r===void 0?"rc-segmented":r,l=e.direction,i=e.options,c=i===void 0?[]:i,u=e.disabled,m=e.defaultValue,d=e.value,p=e.onChange,g=e.className,v=g===void 0?"":g,w=e.motionName,x=w===void 0?"thumb-motion":w,h=Pe(e,ca),y=a.useRef(null),P=a.useMemo(function(){return Rt(y,t)},[y,t]),O=a.useMemo(function(){return da(c)},[c]),f=Ge((n=O[0])===null||n===void 0?void 0:n.value,{value:d,defaultValue:m}),E=le(f,2),S=E[0],$=E[1],C=a.useState(!1),b=le(C,2),N=b[0],M=b[1],F=function(z,L){u||($(L),p==null||p(L))},T=gn(h,["children"]);return a.createElement("div",ee({},T,{className:B(s,(o={},Y(o,"".concat(s,"-rtl"),l==="rtl"),Y(o,"".concat(s,"-disabled"),u),o),v),ref:P}),a.createElement("div",{className:"".concat(s,"-group")},a.createElement(la,{prefixCls:s,value:S,containerRef:y,motionName:"".concat(s,"-").concat(x),direction:l,getValueIndex:function(z){return O.findIndex(function(L){return L.value===z})},onMotionStart:function(){M(!0)},onMotionEnd:function(){M(!1)}}),O.map(function(j){return a.createElement(ma,ee({},j,{key:j.value,prefixCls:s,className:B(j.className,"".concat(s,"-item"),Y({},"".concat(s,"-item-selected"),j.value===S&&!N)),checked:j.value===S,onChange:F,disabled:!!u||!!j.disabled}))})))}),pa=fa;function nn(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function on(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const ga=Object.assign({overflow:"hidden"},ut),va=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),o=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},ct(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`,[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},on(e)),{color:e.itemSelectedColor}),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",transition:`background-color ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:se(n),padding:`0 ${se(e.segmentedPaddingHorizontal)}`},ga),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},on(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${se(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:o,lineHeight:se(o),padding:`0 ${se(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:r,lineHeight:se(r),padding:`0 ${se(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),nn(`&-disabled ${t}-item`,e)),nn(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"}})}},ha=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:o,colorBgElevated:r,colorFill:s,lineWidthBold:l,colorBgLayout:i}=e;return{trackPadding:l,trackBg:i,itemColor:t,itemHoverColor:n,itemHoverBg:o,itemSelectedBg:r,itemActiveBg:s,itemSelectedColor:n}},ba=Je("Segmented",e=>{const{lineWidth:t,calc:n}=e,o=Ke(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[va(o)]},ha);var rn=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};function Ca(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const wa=a.forwardRef((e,t)=>{const{prefixCls:n,className:o,rootClassName:r,block:s,options:l=[],size:i="middle",style:c}=e,u=rn(e,["prefixCls","className","rootClassName","block","options","size","style"]),{getPrefixCls:m,direction:d,segmented:p}=a.useContext(De),g=m("segmented",n),[v,w,x]=ba(g),h=Jn(i),y=a.useMemo(()=>l.map(f=>{if(Ca(f)){const{icon:E,label:S}=f,$=rn(f,["icon","label"]);return Object.assign(Object.assign({},$),{label:a.createElement(a.Fragment,null,a.createElement("span",{className:`${g}-item-icon`},E),S&&a.createElement("span",null,S))})}return f}),[l,g]),P=B(o,r,p==null?void 0:p.className,{[`${g}-block`]:s,[`${g}-sm`]:h==="small",[`${g}-lg`]:h==="large"},w,x),O=Object.assign(Object.assign({},p==null?void 0:p.style),c);return v(a.createElement(pa,Object.assign({},u,{className:P,style:O,options:y,ref:t,prefixCls:g,direction:d})))}),ya=wa,Sa=ya,gt=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),o=e.name||"",r=e.type||"",s=r.replace(/\/.*$/,"");return n.some(function(l){var i=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(i.charAt(0)==="."){var c=o.toLowerCase(),u=i.toLowerCase(),m=[u];return(u===".jpg"||u===".jpeg")&&(m=[".jpg",".jpeg"]),m.some(function(d){return c.endsWith(d)})}return/\/\*$/.test(i)?s===i.replace(/\/.*$/,""):r===i?!0:/^\w+$/.test(i)?(Qn(!1,"Upload takes an invalidate 'accept' type '".concat(i,"'.Skip for check.")),!0):!1})}return!0};function $a(e,t){var n="cannot ".concat(e.method," ").concat(e.action," ").concat(t.status,"'"),o=new Error(n);return o.status=t.status,o.method=e.method,o.url=e.action,o}function an(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch{return t}}function Ln(e){var t=new XMLHttpRequest;e.onProgress&&t.upload&&(t.upload.onprogress=function(s){s.total>0&&(s.percent=s.loaded/s.total*100),e.onProgress(s)});var n=new FormData;e.data&&Object.keys(e.data).forEach(function(r){var s=e.data[r];if(Array.isArray(s)){s.forEach(function(l){n.append("".concat(r,"[]"),l)});return}n.append(r,s)}),e.file instanceof Blob?n.append(e.filename,e.file,e.file.name):n.append(e.filename,e.file),t.onerror=function(s){e.onError(s)},t.onload=function(){return t.status<200||t.status>=300?e.onError($a(e,t),an(t)):e.onSuccess(an(t),t)},t.open(e.method,e.action,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var o=e.headers||{};return o["X-Requested-With"]!==null&&t.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(o).forEach(function(r){o[r]!==null&&t.setRequestHeader(r,o[r])}),t.send(n),{abort:function(){t.abort()}}}function xa(e,t){var n=e.createReader(),o=[];function r(){n.readEntries(function(s){var l=Array.prototype.slice.apply(s);o=o.concat(l);var i=!l.length;i?t(o):r()})}r()}var Ia=function(t,n,o){var r=function s(l,i){l&&(l.path=i||"",l.isFile?l.file(function(c){o(c)&&(l.fullPath&&!c.webkitRelativePath&&(Object.defineProperties(c,{webkitRelativePath:{writable:!0}}),c.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(c,{webkitRelativePath:{writable:!1}})),n([c]))}):l.isDirectory&&xa(l,function(c){c.forEach(function(u){s(u,"".concat(i).concat(l.name,"/"))})}))};t.forEach(function(s){r(s.webkitGetAsEntry())})},Ea=+new Date,Oa=0;function vt(){return"rc-upload-".concat(Ea,"-").concat(++Oa)}var Ra=["component","prefixCls","className","classNames","disabled","id","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],Pa=function(e){Nt(n,e);var t=vn(n);function n(){var o;Mt(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=t.call.apply(t,[this].concat(s)),Y(he(o),"state",{uid:vt()}),Y(he(o),"reqs",{}),Y(he(o),"fileInput",void 0),Y(he(o),"_isMounted",void 0),Y(he(o),"onChange",function(i){var c=o.props,u=c.accept,m=c.directory,d=i.target.files,p=Me(d).filter(function(g){return!m||gt(g,u)});o.uploadFiles(p),o.reset()}),Y(he(o),"onClick",function(i){var c=o.fileInput;if(c){var u=i.target,m=o.props.onClick;if(u&&u.tagName==="BUTTON"){var d=c.parentNode;d.focus(),u.blur()}c.click(),m&&m(i)}}),Y(he(o),"onKeyDown",function(i){i.key==="Enter"&&o.onClick(i)}),Y(he(o),"onFileDrop",function(i){var c=o.props.multiple;if(i.preventDefault(),i.type!=="dragover")if(o.props.directory)Ia(Array.prototype.slice.call(i.dataTransfer.items),o.uploadFiles,function(m){return gt(m,o.props.accept)});else{var u=Me(i.dataTransfer.files).filter(function(m){return gt(m,o.props.accept)});c===!1&&(u=u.slice(0,1)),o.uploadFiles(u)}}),Y(he(o),"uploadFiles",function(i){var c=Me(i),u=c.map(function(m){return m.uid=vt(),o.processFile(m,c)});Promise.all(u).then(function(m){var d=o.props.onBatchStart;d==null||d(m.map(function(p){var g=p.origin,v=p.parsedFile;return{file:g,parsedFile:v}})),m.filter(function(p){return p.parsedFile!==null}).forEach(function(p){o.post(p)})})}),Y(he(o),"processFile",function(){var i=eo(kt().mark(function c(u,m){var d,p,g,v,w,x,h,y,P;return kt().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(d=o.props.beforeUpload,p=u,!d){f.next=14;break}return f.prev=3,f.next=6,d(u,m);case 6:p=f.sent,f.next=12;break;case 9:f.prev=9,f.t0=f.catch(3),p=!1;case 12:if(p!==!1){f.next=14;break}return f.abrupt("return",{origin:u,parsedFile:null,action:null,data:null});case 14:if(g=o.props.action,typeof g!="function"){f.next=21;break}return f.next=18,g(u);case 18:v=f.sent,f.next=22;break;case 21:v=g;case 22:if(w=o.props.data,typeof w!="function"){f.next=29;break}return f.next=26,w(u);case 26:x=f.sent,f.next=30;break;case 29:x=w;case 30:return h=(Oe(p)==="object"||typeof p=="string")&&p?p:u,h instanceof File?y=h:y=new File([h],u.name,{type:u.type}),P=y,P.uid=u.uid,f.abrupt("return",{origin:u,data:x,parsedFile:P,action:v});case 35:case"end":return f.stop()}},c,null,[[3,9]])}));return function(c,u){return i.apply(this,arguments)}}()),Y(he(o),"saveFileInput",function(i){o.fileInput=i}),o}return jt(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(r){var s=this,l=r.data,i=r.origin,c=r.action,u=r.parsedFile;if(this._isMounted){var m=this.props,d=m.onStart,p=m.customRequest,g=m.name,v=m.headers,w=m.withCredentials,x=m.method,h=i.uid,y=p||Ln,P={action:c,filename:g,data:l,file:u,headers:v,withCredentials:w,method:x||"post",onProgress:function(f){var E=s.props.onProgress;E==null||E(f,u)},onSuccess:function(f,E){var S=s.props.onSuccess;S==null||S(f,u,E),delete s.reqs[h]},onError:function(f,E){var S=s.props.onError;S==null||S(f,E,u),delete s.reqs[h]}};d(i),this.reqs[h]=y(P)}}},{key:"reset",value:function(){this.setState({uid:vt()})}},{key:"abort",value:function(r){var s=this.reqs;if(r){var l=r.uid?r.uid:r;s[l]&&s[l].abort&&s[l].abort(),delete s[l]}else Object.keys(s).forEach(function(i){s[i]&&s[i].abort&&s[i].abort(),delete s[i]})}},{key:"render",value:function(){var r,s=this.props,l=s.component,i=s.prefixCls,c=s.className,u=s.classNames,m=u===void 0?{}:u,d=s.disabled,p=s.id,g=s.style,v=s.styles,w=v===void 0?{}:v,x=s.multiple,h=s.accept,y=s.capture,P=s.children,O=s.directory,f=s.openFileDialogOnClick,E=s.onMouseEnter,S=s.onMouseLeave,$=s.hasControlInside,C=Pe(s,Ra),b=B((r={},Y(r,i,!0),Y(r,"".concat(i,"-disabled"),d),Y(r,c,c),r)),N=O?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},M=d?{}:{onClick:f?this.onClick:function(){},onKeyDown:f?this.onKeyDown:function(){},onMouseEnter:E,onMouseLeave:S,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:$?void 0:"0"};return Ee.createElement(l,ee({},M,{className:b,role:$?void 0:"button",style:g}),Ee.createElement("input",ee({},sn(C,{aria:!0,data:!0}),{id:p,disabled:d,type:"file",ref:this.saveFileInput,onClick:function(T){return T.stopPropagation()},key:this.state.uid,style:K({display:"none"},w.input),className:m.input,accept:h},N,{multiple:x,onChange:this.onChange},y!=null?{capture:y}:{})),P)}}]),n}(a.Component);function ht(){}var Et=function(e){Nt(n,e);var t=vn(n);function n(){var o;Mt(this,n);for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return o=t.call.apply(t,[this].concat(s)),Y(he(o),"uploader",void 0),Y(he(o),"saveUploader",function(i){o.uploader=i}),o}return jt(n,[{key:"abort",value:function(r){this.uploader.abort(r)}},{key:"render",value:function(){return Ee.createElement(Pa,ee({},this.props,{ref:this.saveUploader}))}}]),n}(a.Component);Y(Et,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:ht,onError:ht,onSuccess:ht,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});const Na=e=>{const{componentCls:t,iconCls:n}=e;return{[`${t}-wrapper`]:{[`${t}-drag`]:{position:"relative",width:"100%",height:"100%",textAlign:"center",background:e.colorFillAlter,border:`${se(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[t]:{padding:e.padding},[`${t}-btn`]:{display:"table",width:"100%",height:"100%",outline:"none",borderRadius:e.borderRadiusLG,"&:focus-visible":{outline:`${se(e.lineWidthFocus)} solid ${e.colorPrimaryBorder}`}},[`${t}-drag-container`]:{display:"table-cell",verticalAlign:"middle"},[`
          &:not(${t}-disabled):hover,
          &-hover:not(${t}-disabled)
        `]:{borderColor:e.colorPrimaryHover},[`p${t}-drag-icon`]:{marginBottom:e.margin,[n]:{color:e.colorPrimary,fontSize:e.uploadThumbnailSize}},[`p${t}-text`]:{margin:`0 0 ${se(e.marginXXS)}`,color:e.colorTextHeading,fontSize:e.fontSizeLG},[`p${t}-hint`]:{color:e.colorTextDescription,fontSize:e.fontSize},[`&${t}-disabled`]:{[`p${t}-drag-icon ${n},
            p${t}-text,
            p${t}-hint
          `]:{color:e.colorTextDisabled}}}}}},ja=e=>{const{componentCls:t,antCls:n,iconCls:o,fontSize:r,lineHeight:s,calc:l}=e,i=`${t}-list-item`,c=`${i}-actions`,u=`${i}-action`,m=e.fontHeightSM;return{[`${t}-wrapper`]:{[`${t}-list`]:Object.assign(Object.assign({},hn()),{lineHeight:e.lineHeight,[i]:{position:"relative",height:l(e.lineHeight).mul(r).equal(),marginTop:e.marginXS,fontSize:r,display:"flex",alignItems:"center",transition:`background-color ${e.motionDurationSlow}`,"&:hover":{backgroundColor:e.controlItemBgHover},[`${i}-name`]:Object.assign(Object.assign({},ut),{padding:`0 ${se(e.paddingXS)}`,lineHeight:s,flex:"auto",transition:`all ${e.motionDurationSlow}`}),[c]:{whiteSpace:"nowrap",[u]:{opacity:0},[o]:{color:e.actionsColor,transition:`all ${e.motionDurationSlow}`},[`
              ${u}:focus-visible,
              &.picture ${u}
            `]:{opacity:1},[`${u}${n}-btn`]:{height:m,border:0,lineHeight:1}},[`${t}-icon ${o}`]:{color:e.colorTextDescription,fontSize:r},[`${i}-progress`]:{position:"absolute",bottom:e.calc(e.uploadProgressOffset).mul(-1).equal(),width:"100%",paddingInlineStart:l(r).add(e.paddingXS).equal(),fontSize:r,lineHeight:0,pointerEvents:"none","> div":{margin:0}}},[`${i}:hover ${u}`]:{opacity:1},[`${i}-error`]:{color:e.colorError,[`${i}-name, ${t}-icon ${o}`]:{color:e.colorError},[c]:{[`${o}, ${o}:hover`]:{color:e.colorError},[u]:{opacity:1}}},[`${t}-list-item-container`]:{transition:`opacity ${e.motionDurationSlow}, height ${e.motionDurationSlow}`,"&::before":{display:"table",width:0,height:0,content:'""'}}})}}},Ma=e=>{const{componentCls:t}=e,n=new $t("uploadAnimateInlineIn",{from:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),o=new $t("uploadAnimateInlineOut",{to:{width:0,height:0,padding:0,opacity:0,margin:e.calc(e.marginXS).div(-2).equal()}}),r=`${t}-animate-inline`;return[{[`${t}-wrapper`]:{[`${r}-appear, ${r}-enter, ${r}-leave`]:{animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseInOutCirc,animationFillMode:"forwards"},[`${r}-appear, ${r}-enter`]:{animationName:n},[`${r}-leave`]:{animationName:o}}},{[`${t}-wrapper`]:un(e)},n,o]},Ta=e=>{const{componentCls:t,iconCls:n,uploadThumbnailSize:o,uploadProgressOffset:r,calc:s}=e,l=`${t}-list`,i=`${l}-item`;return{[`${t}-wrapper`]:{[`
        ${l}${l}-picture,
        ${l}${l}-picture-card,
        ${l}${l}-picture-circle
      `]:{[i]:{position:"relative",height:s(o).add(s(e.lineWidth).mul(2)).add(s(e.paddingXS).mul(2)).equal(),padding:e.paddingXS,border:`${se(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusLG,"&:hover":{background:"transparent"},[`${i}-thumbnail`]:Object.assign(Object.assign({},ut),{width:o,height:o,lineHeight:se(s(o).add(e.paddingSM).equal()),textAlign:"center",flex:"none",[n]:{fontSize:e.fontSizeHeading2,color:e.colorPrimary},img:{display:"block",width:"100%",height:"100%",overflow:"hidden"}}),[`${i}-progress`]:{bottom:r,width:`calc(100% - ${se(s(e.paddingSM).mul(2).equal())})`,marginTop:0,paddingInlineStart:s(o).add(e.paddingXS).equal()}},[`${i}-error`]:{borderColor:e.colorError,[`${i}-thumbnail ${n}`]:{[`svg path[fill='${At[0]}']`]:{fill:e.colorErrorBg},[`svg path[fill='${At.primary}']`]:{fill:e.colorError}}},[`${i}-uploading`]:{borderStyle:"dashed",[`${i}-name`]:{marginBottom:r}}},[`${l}${l}-picture-circle ${i}`]:{[`&, &::before, ${i}-thumbnail`]:{borderRadius:"50%"}}}}},La=e=>{const{componentCls:t,iconCls:n,fontSizeLG:o,colorTextLightSolid:r,calc:s}=e,l=`${t}-list`,i=`${l}-item`,c=e.uploadPicCardSize;return{[`
      ${t}-wrapper${t}-picture-card-wrapper,
      ${t}-wrapper${t}-picture-circle-wrapper
    `]:Object.assign(Object.assign({},hn()),{display:"block",[`${t}${t}-select`]:{width:c,height:c,textAlign:"center",verticalAlign:"top",backgroundColor:e.colorFillAlter,border:`${se(e.lineWidth)} dashed ${e.colorBorder}`,borderRadius:e.borderRadiusLG,cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,[`> ${t}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",textAlign:"center"},[`&:not(${t}-disabled):hover`]:{borderColor:e.colorPrimary}},[`${l}${l}-picture-card, ${l}${l}-picture-circle`]:{display:"flex",flexWrap:"wrap","@supports not (gap: 1px)":{"& > *":{marginBlockEnd:e.marginXS,marginInlineEnd:e.marginXS}},"@supports (gap: 1px)":{gap:e.marginXS},[`${l}-item-container`]:{display:"inline-block",width:c,height:c,verticalAlign:"top"},"&::after":{display:"none"},"&::before":{display:"none"},[i]:{height:"100%",margin:0,"&::before":{position:"absolute",zIndex:1,width:`calc(100% - ${se(s(e.paddingXS).mul(2).equal())})`,height:`calc(100% - ${se(s(e.paddingXS).mul(2).equal())})`,backgroundColor:e.colorBgMask,opacity:0,transition:`all ${e.motionDurationSlow}`,content:'" "'}},[`${i}:hover`]:{[`&::before, ${i}-actions`]:{opacity:1}},[`${i}-actions`]:{position:"absolute",insetInlineStart:0,zIndex:10,width:"100%",whiteSpace:"nowrap",textAlign:"center",opacity:0,transition:`all ${e.motionDurationSlow}`,[`
            ${n}-eye,
            ${n}-download,
            ${n}-delete
          `]:{zIndex:10,width:o,margin:`0 ${se(e.marginXXS)}`,fontSize:o,cursor:"pointer",transition:`all ${e.motionDurationSlow}`,color:r,"&:hover":{color:r},svg:{verticalAlign:"baseline"}}},[`${i}-thumbnail, ${i}-thumbnail img`]:{position:"static",display:"block",width:"100%",height:"100%",objectFit:"contain"},[`${i}-name`]:{display:"none",textAlign:"center"},[`${i}-file + ${i}-name`]:{position:"absolute",bottom:e.margin,display:"block",width:`calc(100% - ${se(s(e.paddingXS).mul(2).equal())})`},[`${i}-uploading`]:{[`&${i}`]:{backgroundColor:e.colorFillAlter},[`&::before, ${n}-eye, ${n}-download, ${n}-delete`]:{display:"none"}},[`${i}-progress`]:{bottom:e.marginXL,width:`calc(100% - ${se(s(e.paddingXS).mul(2).equal())})`,paddingInlineStart:0}}}),[`${t}-wrapper${t}-picture-circle-wrapper`]:{[`${t}${t}-select`]:{borderRadius:"50%"}}}},Da=e=>{const{componentCls:t}=e;return{[`${t}-rtl`]:{direction:"rtl"}}},za=e=>{const{componentCls:t,colorTextDisabled:n}=e;return{[`${t}-wrapper`]:Object.assign(Object.assign({},ct(e)),{[t]:{outline:0,"input[type='file']":{cursor:"pointer"}},[`${t}-select`]:{display:"inline-block"},[`${t}-disabled`]:{color:n,cursor:"not-allowed"}})}},Fa=e=>({actionsColor:e.colorTextDescription}),ka=Je("Upload",e=>{const{fontSizeHeading3:t,fontHeight:n,lineWidth:o,controlHeightLG:r,calc:s}=e,l=Ke(e,{uploadThumbnailSize:s(t).mul(2).equal(),uploadProgressOffset:s(s(n).div(2)).add(o).equal(),uploadPicCardSize:s(r).mul(2.55).equal()});return[za(l),Na(l),Ta(l),La(l),ja(l),Ma(l),Da(l),to(l)]},Fa);var Aa={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:t}}]}},name:"file",theme:"twotone"};const _a=Aa;var Ha=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:_a}))},Ba=a.forwardRef(Ha);const Va=Ba;var Xa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const Ua=Xa;var Wa=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Ua}))},qa=a.forwardRef(Wa);const Za=qa;var Ya={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:t}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:t}}]}},name:"picture",theme:"twotone"};const Ga=Ya;var Ka=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Ga}))},Ja=a.forwardRef(Ka);const Qa=Ja;function ot(e){return Object.assign(Object.assign({},e),{lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,uid:e.uid,percent:0,originFileObj:e})}function rt(e,t){const n=Me(t),o=n.findIndex(r=>{let{uid:s}=r;return s===e.uid});return o===-1?n.push(e):n[o]=e,n}function bt(e,t){const n=e.uid!==void 0?"uid":"name";return t.filter(o=>o[n]===e[n])[0]}function ei(e,t){const n=e.uid!==void 0?"uid":"name",o=t.filter(r=>r[n]!==e[n]);return o.length===t.length?null:o}const ti=function(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},Dn=e=>e.indexOf("image/")===0,ni=e=>{if(e.type&&!e.thumbUrl)return Dn(e.type);const t=e.thumbUrl||e.url||"",n=ti(t);return/^data:image\//.test(t)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(n)?!0:!(/^data:/.test(t)||n)},je=200;function oi(e){return new Promise(t=>{if(!e.type||!Dn(e.type)){t("");return}const n=document.createElement("canvas");n.width=je,n.height=je,n.style.cssText=`position: fixed; left: 0; top: 0; width: ${je}px; height: ${je}px; z-index: 9999; display: none;`,document.body.appendChild(n);const o=n.getContext("2d"),r=new Image;if(r.onload=()=>{const{width:s,height:l}=r;let i=je,c=je,u=0,m=0;s>l?(c=l*(je/s),m=-(c-i)/2):(i=s*(je/l),u=-(i-c)/2),o.drawImage(r,u,m,i,c);const d=n.toDataURL();document.body.removeChild(n),window.URL.revokeObjectURL(r.src),t(d)},r.crossOrigin="anonymous",e.type.startsWith("image/svg+xml")){const s=new FileReader;s.onload=()=>{s.result&&typeof s.result=="string"&&(r.src=s.result)},s.readAsDataURL(e)}else if(e.type.startsWith("image/gif")){const s=new FileReader;s.onload=()=>{s.result&&t(s.result)},s.readAsDataURL(e)}else r.src=window.URL.createObjectURL(e)})}var ri={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const ai=ri;var ii=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:ai}))},si=a.forwardRef(ii);const li=si,ci=a.forwardRef((e,t)=>{let{prefixCls:n,className:o,style:r,locale:s,listType:l,file:i,items:c,progress:u,iconRender:m,actionIconRender:d,itemRender:p,isImgUrl:g,showPreviewIcon:v,showRemoveIcon:w,showDownloadIcon:x,previewIcon:h,removeIcon:y,downloadIcon:P,onPreview:O,onDownload:f,onClose:E}=e;var S,$;const{status:C}=i,[b,N]=a.useState(C);a.useEffect(()=>{C!=="removed"&&N(C)},[C]);const[M,F]=a.useState(!1);a.useEffect(()=>{const D=setTimeout(()=>{F(!0)},300);return()=>{clearTimeout(D)}},[]);const T=m(i);let j=a.createElement("div",{className:`${n}-icon`},T);if(l==="picture"||l==="picture-card"||l==="picture-circle")if(b==="uploading"||!i.thumbUrl&&!i.url){const D=B(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:b!=="uploading"});j=a.createElement("div",{className:D},T)}else{const D=g!=null&&g(i)?a.createElement("img",{src:i.thumbUrl||i.url,alt:i.name,className:`${n}-list-item-image`,crossOrigin:i.crossOrigin}):T,oe=B(`${n}-list-item-thumbnail`,{[`${n}-list-item-file`]:g&&!g(i)});j=a.createElement("a",{className:oe,onClick:ce=>O(i,ce),href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer"},D)}const z=B(`${n}-list-item`,`${n}-list-item-${b}`),L=typeof i.linkProps=="string"?JSON.parse(i.linkProps):i.linkProps,te=w?d((typeof y=="function"?y(i):y)||a.createElement(bn,null),()=>E(i),n,s.removeFile,!0):null,X=x&&b==="done"?d((typeof P=="function"?P(i):P)||a.createElement(li,null),()=>f(i),n,s.downloadFile):null,U=l!=="picture-card"&&l!=="picture-circle"&&a.createElement("span",{key:"download-delete",className:B(`${n}-list-item-actions`,{picture:l==="picture"})},X,te),_=B(`${n}-list-item-name`),k=i.url?[a.createElement("a",Object.assign({key:"view",target:"_blank",rel:"noopener noreferrer",className:_,title:i.name},L,{href:i.url,onClick:D=>O(i,D)}),i.name),U]:[a.createElement("span",{key:"view",className:_,onClick:D=>O(i,D),title:i.name},i.name),U],I=v&&(i.url||i.thumbUrl)?a.createElement("a",{href:i.url||i.thumbUrl,target:"_blank",rel:"noopener noreferrer",onClick:D=>O(i,D),title:s.previewFile},typeof h=="function"?h(i):h||a.createElement(fn,null)):null,H=(l==="picture-card"||l==="picture-circle")&&b!=="uploading"&&a.createElement("span",{className:`${n}-list-item-actions`},I,b==="done"&&X,te),{getPrefixCls:J}=a.useContext(De),W=J(),G=a.createElement("div",{className:z},j,k,H,M&&a.createElement(Qe,{motionName:`${W}-fade`,visible:b==="uploading",motionDeadline:2e3},D=>{let{className:oe}=D;const ce="percent"in i?a.createElement(Tn,Object.assign({},u,{type:"line",percent:i.percent,"aria-label":i["aria-label"],"aria-labelledby":i["aria-labelledby"]})):null;return a.createElement("div",{className:B(`${n}-list-item-progress`,oe)},ce)})),ne=i.response&&typeof i.response=="string"?i.response:((S=i.error)===null||S===void 0?void 0:S.statusText)||(($=i.error)===null||$===void 0?void 0:$.message)||s.uploadError,q=b==="error"?a.createElement(pn,{title:ne,getPopupContainer:D=>D.parentNode},G):G;return a.createElement("div",{className:B(`${n}-list-item-container`,o),style:r,ref:t},p?p(q,i,c,{download:f.bind(null,i),preview:O.bind(null,i),remove:E.bind(null,i)}):q)}),ui=ci,di=(e,t)=>{const{listType:n="text",previewFile:o=oi,onPreview:r,onDownload:s,onRemove:l,locale:i,iconRender:c,isImageUrl:u=ni,prefixCls:m,items:d=[],showPreviewIcon:p=!0,showRemoveIcon:g=!0,showDownloadIcon:v=!1,removeIcon:w,previewIcon:x,downloadIcon:h,progress:y={size:[-1,2],showInfo:!1},appendAction:P,appendActionVisible:O=!0,itemRender:f,disabled:E}=e,S=no(),[$,C]=a.useState(!1);a.useEffect(()=>{n!=="picture"&&n!=="picture-card"&&n!=="picture-circle"||(d||[]).forEach(I=>{typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(I.originFileObj instanceof File||I.originFileObj)||I.thumbUrl!==void 0||o&&o(I.originFileObj).then(H=>{I.thumbUrl=H||"",S()})})},[n,d,o]),a.useEffect(()=>{C(!0)},[]);const b=(I,H)=>{if(r)return H==null||H.preventDefault(),r(I)},N=I=>{typeof s=="function"?s(I):I.url&&window.open(I.url)},M=I=>{l==null||l(I)},F=I=>{if(c)return c(I,n);const H=I.status==="uploading",J=u&&u(I)?a.createElement(Qa,null):a.createElement(Va,null);let W=H?a.createElement(Ht,null):a.createElement(Za,null);return n==="picture"?W=H?a.createElement(Ht,null):J:(n==="picture-card"||n==="picture-circle")&&(W=H?i.uploading:J),W},T=(I,H,J,W,G)=>{const ne={type:"text",size:"small",title:W,onClick:q=>{var D,oe;H(),a.isValidElement(I)&&((oe=(D=I.props).onClick)===null||oe===void 0||oe.call(D,q))},className:`${J}-list-item-action`};if(G&&(ne.disabled=E),a.isValidElement(I)){const q=_t(I,Object.assign(Object.assign({},I.props),{onClick:()=>{}}));return a.createElement(Xe,Object.assign({},ne,{icon:q}))}return a.createElement(Xe,Object.assign({},ne),a.createElement("span",null,I))};a.useImperativeHandle(t,()=>({handlePreview:b,handleDownload:N}));const{getPrefixCls:j}=a.useContext(De),z=j("upload",m),L=j(),te=B(`${z}-list`,`${z}-list-${n}`),X=Me(d.map(I=>({key:I.uid,file:I})));let _={motionDeadline:2e3,motionName:`${z}-${n==="picture-card"||n==="picture-circle"?"animate-inline":"animate"}`,keys:X,motionAppear:$};const k=a.useMemo(()=>{const I=Object.assign({},oo(L));return delete I.onAppearEnd,delete I.onEnterEnd,delete I.onLeaveEnd,I},[L]);return n!=="picture-card"&&n!=="picture-circle"&&(_=Object.assign(Object.assign({},k),_)),a.createElement("div",{className:te},a.createElement(ro,Object.assign({},_,{component:!1}),I=>{let{key:H,file:J,className:W,style:G}=I;return a.createElement(ui,{key:H,locale:i,prefixCls:z,className:W,style:G,file:J,items:d,progress:y,listType:n,isImgUrl:u,showPreviewIcon:p,showRemoveIcon:g,showDownloadIcon:v,removeIcon:w,previewIcon:x,downloadIcon:h,iconRender:F,actionIconRender:T,itemRender:f,onPreview:b,onDownload:N,onClose:M})}),P&&a.createElement(Qe,Object.assign({},_,{visible:O,forceRender:!0}),I=>{let{className:H,style:J}=I;return _t(P,W=>({className:B(W.className,H),style:Object.assign(Object.assign(Object.assign({},J),{pointerEvents:H?"none":void 0}),W.style)}))}))},mi=a.forwardRef(di),fi=mi;var pi=function(e,t,n,o){function r(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function i(m){try{u(o.next(m))}catch(d){l(d)}}function c(m){try{u(o.throw(m))}catch(d){l(d)}}function u(m){m.done?s(m.value):r(m.value).then(i,c)}u((o=o.apply(e,t||[])).next())})};const Ye=`__LIST_IGNORE_${Date.now()}__`,gi=(e,t)=>{const{fileList:n,defaultFileList:o,onRemove:r,showUploadList:s=!0,listType:l="text",onPreview:i,onDownload:c,onChange:u,onDrop:m,previewFile:d,disabled:p,locale:g,iconRender:v,isImageUrl:w,progress:x,prefixCls:h,className:y,type:P="select",children:O,style:f,itemRender:E,maxCount:S,data:$={},multiple:C=!1,hasControlInside:b=!0,action:N="",accept:M="",supportServerRender:F=!0,rootClassName:T}=e,j=a.useContext(ao),z=p??j,[L,te]=Ge(o||[],{value:n,postState:A=>A??[]}),[X,U]=a.useState("drop"),_=a.useRef(null),k=a.useRef(null);a.useMemo(()=>{const A=Date.now();(n||[]).forEach((Z,ie)=>{!Z.uid&&!Object.isFrozen(Z)&&(Z.uid=`__AUTO__${A}_${ie}__`)})},[n]);const I=(A,Z,ie)=>{let V=Me(Z),re=!1;S===1?V=V.slice(-1):S&&(re=V.length>S,V=V.slice(0,S)),Bt.flushSync(()=>{te(V)});const me={file:A,fileList:V};ie&&(me.event=ie),(!re||A.status==="removed"||V.some(Ie=>Ie.uid===A.uid))&&Bt.flushSync(()=>{u==null||u(me)})},H=(A,Z)=>pi(void 0,void 0,void 0,function*(){const{beforeUpload:ie,transformFile:V}=e;let re=A;if(ie){const me=yield ie(A,Z);if(me===!1)return!1;if(delete A[Ye],me===Ye)return Object.defineProperty(A,Ye,{value:!0,configurable:!0}),!1;typeof me=="object"&&me&&(re=me)}return V&&(re=yield V(re)),re}),J=A=>{const Z=A.filter(re=>!re.file[Ye]);if(!Z.length)return;const ie=Z.map(re=>ot(re.file));let V=Me(L);ie.forEach(re=>{V=rt(re,V)}),ie.forEach((re,me)=>{let Ie=re;if(Z[me].parsedFile)re.status="uploading";else{const{originFileObj:de}=re;let ae;try{ae=new File([de],de.name,{type:de.type})}catch{ae=new Blob([de],{type:de.type}),ae.name=de.name,ae.lastModifiedDate=new Date,ae.lastModified=new Date().getTime()}ae.uid=re.uid,Ie=ae}I(Ie,V)})},W=(A,Z,ie)=>{try{typeof A=="string"&&(A=JSON.parse(A))}catch{}if(!bt(Z,L))return;const V=ot(Z);V.status="done",V.percent=100,V.response=A,V.xhr=ie;const re=rt(V,L);I(V,re)},G=(A,Z)=>{if(!bt(Z,L))return;const ie=ot(Z);ie.status="uploading",ie.percent=A.percent;const V=rt(ie,L);I(ie,V,A)},ne=(A,Z,ie)=>{if(!bt(ie,L))return;const V=ot(ie);V.error=A,V.response=Z,V.status="error";const re=rt(V,L);I(V,re)},q=A=>{let Z;Promise.resolve(typeof r=="function"?r(A):r).then(ie=>{var V;if(ie===!1)return;const re=ei(A,L);re&&(Z=Object.assign(Object.assign({},A),{status:"removed"}),L==null||L.forEach(me=>{const Ie=Z.uid!==void 0?"uid":"name";me[Ie]===Z[Ie]&&!Object.isFrozen(me)&&(me.status="removed")}),(V=_.current)===null||V===void 0||V.abort(Z),I(Z,re))})},D=A=>{U(A.type),A.type==="drop"&&(m==null||m(A))};a.useImperativeHandle(t,()=>({onBatchStart:J,onSuccess:W,onProgress:G,onError:ne,fileList:L,upload:_.current,nativeElement:k.current}));const{getPrefixCls:oe,direction:ce,upload:ue}=a.useContext(De),Q=oe("upload",h),be=Object.assign(Object.assign({onBatchStart:J,onError:ne,onProgress:G,onSuccess:W},e),{data:$,multiple:C,action:N,accept:M,supportServerRender:F,prefixCls:Q,disabled:z,beforeUpload:H,onChange:void 0,hasControlInside:b});delete be.className,delete be.style,(!O||z)&&delete be.id;const Ne=`${Q}-wrapper`,[xe,pe,ge]=ka(Q,Ne),[ve]=io("Upload",yt.Upload),{showRemoveIcon:ye,showPreviewIcon:Re,showDownloadIcon:Se,removeIcon:$e,previewIcon:Ue,downloadIcon:We}=typeof s=="boolean"?{}:s,qe=typeof ye>"u"?!z:!!ye,Ce=(A,Z)=>s?a.createElement(fi,{prefixCls:Q,listType:l,items:L,previewFile:d,onPreview:i,onDownload:c,onRemove:q,showRemoveIcon:qe,showPreviewIcon:Re,showDownloadIcon:Se,removeIcon:$e,previewIcon:Ue,downloadIcon:We,iconRender:v,locale:Object.assign(Object.assign({},ve),g),isImageUrl:w,progress:x,appendAction:A,appendActionVisible:Z,itemRender:E,disabled:z}):A,we=B(Ne,y,T,pe,ge,ue==null?void 0:ue.className,{[`${Q}-rtl`]:ce==="rtl",[`${Q}-picture-card-wrapper`]:l==="picture-card",[`${Q}-picture-circle-wrapper`]:l==="picture-circle"}),Fe=Object.assign(Object.assign({},ue==null?void 0:ue.style),f);if(P==="drag"){const A=B(pe,Q,`${Q}-drag`,{[`${Q}-drag-uploading`]:L.some(Z=>Z.status==="uploading"),[`${Q}-drag-hover`]:X==="dragover",[`${Q}-disabled`]:z,[`${Q}-rtl`]:ce==="rtl"});return xe(a.createElement("span",{className:we,ref:k},a.createElement("div",{className:A,style:Fe,onDrop:D,onDragOver:D,onDragLeave:D},a.createElement(Et,Object.assign({},be,{ref:_,className:`${Q}-btn`}),a.createElement("div",{className:`${Q}-drag-container`},O))),Ce()))}const ke=B(Q,`${Q}-select`,{[`${Q}-disabled`]:z}),ze=a.createElement("div",{className:ke,style:O?void 0:{display:"none"}},a.createElement(Et,Object.assign({},be,{ref:_})));return xe(l==="picture-card"||l==="picture-circle"?a.createElement("span",{className:we,ref:k},Ce(ze,!!O)):a.createElement("span",{className:we,ref:k},ze,Ce()))},vi=a.forwardRef(gi),zn=vi;var hi=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n};const bi=a.forwardRef((e,t)=>{var{style:n,height:o,hasControlInside:r=!1}=e,s=hi(e,["style","height","hasControlInside"]);return a.createElement(zn,Object.assign({ref:t,hasControlInside:r},s,{type:"drag",style:Object.assign(Object.assign({},n),{height:o})}))}),Ci=bi,zt=zn;zt.Dragger=Ci;zt.LIST_IGNORE=Ye;const Ct=zt;var wi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const yi=wi;var Si=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:yi}))},$i=a.forwardRef(Si);const xi=$i;var Ii={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const Ei=Ii;var Oi=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Ei}))},Ri=a.forwardRef(Oi);const Pi=Ri;var Ni={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 392h64v64h-64zm0 190v160h128V582h-64v-62h-64v62zm80 48v64h-32v-64h32zm-16-302h64v64h-64zm-64-64h64v64h-64zm64 192h64v64h-64zm0-256h64v64h-64zm494.6 88.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h64v64h64v-64h174v216a42 42 0 0042 42h216v494z"}}]},name:"file-zip",theme:"outlined"};const ji=Ni;var Mi=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:ji}))},Ti=a.forwardRef(Mi);const Li=Ti;var Di={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z",fill:t}},{tag:"path",attrs:{d:"M372.5 256H184v512h656V370.4H492.1z",fill:n}}]}},name:"folder",theme:"twotone"};const zi=Di;var Fi=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:zi}))},ki=a.forwardRef(Fi);const Ai=ki;var _i={icon:function(t,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512.1 172.6l-370 369.7h96V868H392V640c0-22.1 17.9-40 40-40h160c22.1 0 40 17.9 40 40v228h153.9V542.3H882L535.2 195.7l-23.1-23.1zm434.5 422.9c-6 6-13.1 10.8-20.8 13.9 7.7-3.2 14.8-7.9 20.8-13.9zm-887-34.7c5 30.3 31.4 53.5 63.1 53.5h.9c-31.9 0-58.9-23-64-53.5zm-.9-10.5v-1.9 1.9zm.1-2.6c.1-3.1.5-6.1 1-9.1-.6 2.9-.9 6-1 9.1z",fill:n}},{tag:"path",attrs:{d:"M951 510c0-.1-.1-.1-.1-.2l-1.8-2.1c-.1-.1-.2-.3-.4-.4-.7-.8-1.5-1.6-2.2-2.4L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.6 63.6 0 00-16 26.6l-.6 2.1-.3 1.1-.3 1.2c-.2.7-.3 1.4-.4 2.1 0 .1 0 .3-.1.4-.6 3-.9 6-1 9.1v3.3c0 .5 0 1 .1 1.5 0 .5 0 .9.1 1.4 0 .5.1 1 .1 1.5 0 .6.1 1.2.2 1.8 0 .3.1.6.1.9l.3 2.5v.1c5.1 30.5 32.2 53.5 64 53.5h42.5V940h691.7V614.3h43.4c8.6 0 16.9-1.7 24.5-4.9s14.7-7.9 20.8-13.9a63.6 63.6 0 0018.7-45.3c0-14.7-5-28.8-14.3-40.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z",fill:t}}]}},name:"home",theme:"twotone"};const Hi=_i;var Bi=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Hi}))},Vi=a.forwardRef(Bi);const Xi=Vi;var Ui={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};const Wi=Ui;var qi=function(t,n){return a.createElement(fe,ee({},t,{ref:n,icon:Wi}))},Zi=a.forwardRef(qi);const Yi=Zi;function Gi({path:e}){const[t]=Be.useForm(),{setOk:n}=a.useContext(Cn),{httpPut:o}=Tt(),{folder:r,entry:s}=so(e),l=dt(mt);return n(async()=>{await t.validateFields();const i=t.getFieldsValue();await o("file/move",void 0,{path:e,newPath:Ve(r,i.name)}),l()}),R.jsx(Be,{form:t,preserve:!1,initialValues:{name:s},children:R.jsx(Be.Item,{name:"name",rules:[{required:!0,message:"Please input new name!"}],children:R.jsx(wn,{placeholder:"New name"})})})}function Ki({entry:e,selected:t,onSelected:n,onClick:o,onDelete:r}){const{Text:s}=ho,l=a.useContext(Lt),[i,c]=a.useState(!1);function u(){l.open({title:"Rename",children:R.jsx(Gi,{path:e.relationPath})})}const m=[{key:Vt.rename,onClick:u},{key:Vt.delete,onClick:r}];function d(){switch(e.type){case"Folder":return R.jsx(Ai,{className:"text-7xl"});case"Image":return R.jsx(jr,{className:"object-contain",width:56,height:56,src:`/${e.relationPath}`,onClick:()=>c(!0),preview:{visible:i,src:`/${e.relationPath}`,onVisibleChange:g=>{c(g)},mask:!1}});default:return R.jsx(po,{className:"text-5xl"})}}function p(g){g.stopPropagation(),n(!t)}return R.jsx(lo,{items:[...m],children:R.jsxs("div",{className:"w-28 h-28 inline-flex flex-col items-center justify-center hover:bg-gray-300 rounded-md relative group"+(t?" bg-blue-300/30":""),children:[R.jsx("div",{onClick:o,className:"w-16 h-16 flex justify-center items-center cursor-pointer",children:d()}),R.jsx(s,{className:"px-1",ellipsis:!0,children:e.name}),R.jsx($n,{checked:t,className:"absolute top-1 left-1 opacity-0 group-hover:opacity-100"+(t?" opacity-100":""),onClick:p})]})})}function Ji(e){const{container:t}=a.useContext(Lt);return R.jsx(co,{wrapClassName:"!absolute",styles:{mask:{position:"absolute"}},getContainer:t??void 0,...e})}const Qi=[{value:"uploading",label:"Uploading",icon:R.jsx(Co,{className:"text-blue-500"})},{value:"done",label:"Done",icon:R.jsx(xi,{className:"text-green-500"})},{value:"error",label:"Error",icon:R.jsx(Pi,{className:"text-red-500"})}];function es({files:e,onClose:t}){const[n,o]=a.useState("uploading"),r=a.useRef(!1),s=a.useMemo(()=>{const m=[];for(const d of Qi){if(typeof d=="string")continue;const p=e.filter(v=>v.status==d.value).length,g=R.jsxs("div",{className:"inline-flex items-center",children:[d.label,"(",p,")"," "]});m.push({...d,label:g})}return m},[e]),l=a.useMemo(()=>{const m=[];for(const d of e)d.status==n&&m.push(R.jsxs("div",{children:[R.jsx("div",{children:d.name}),R.jsx(Tn,{percent:d.percent})]},d.uid));return m},[e,n]);a.useEffect(()=>{n=="uploading"&&(l.length||r.current||(r.current=!0,o("done")))},[l,n]);const i=R.jsx("div",{className:"text-center",children:R.jsx(Xe,{className:"w-full",onClick:t,children:"Close"})}),c=R.jsx("div",{className:"text-center",children:R.jsx(Sa,{block:!0,value:n,onChange:o,options:s})});let u=R.jsx(yn,{});return e.length>Ot?u=R.jsx(To,{message:"Error",description:`A maximum of ${Ot} files can be uploaded at one time. If more files are uploaded, please use upload from zip!`,type:"error",showIcon:!0}):l.length>0&&(u=R.jsx("div",{className:"max-h-96 rounded p-2 overflow-auto",children:l})),R.jsx(Ji,{closable:!1,open:!!e.length,footer:i,title:c,children:u})}const Ot=100;function ts({folder:e}){const[t,n]=a.useState([]),o=a.useRef(null),r=a.useRef(null),s=dt(mt),l={name:"files",action:Ve(Xt,"file"),multiple:!0,showUploadList:!1,fileList:t,beforeUpload(d,p){return p.length>Ot?!1:(n(p),!0)},onChange(d){n(d.fileList)},customRequest(d){const g=d.file.webkitRelativePath;let v=e;if(g){const w=g.split("/");w.shift(),w.pop(),v=Ve(e,...w)}d.action=d.action+`?folder=${v}`,Ln(d)}};function i(){n([]),s()}const c=[{key:"folder",label:"From folder",icon:R.jsx(go,{})},{key:"zip",label:"From zip",icon:R.jsx(Li,{})}];function u({key:d}){var p,g;switch(d){case"folder":(p=o.current)==null||p.click();break;case"zip":(g=r.current)==null||g.click();break}}function m(d){return[R.jsxs(Xe,{type:"primary",icon:R.jsx(Yi,{}),children:["Upload",R.jsx(Ct,{...l,className:"absolute inset-0",children:R.jsx("div",{className:"absolute inset-0"})})]}),d[1]]}return R.jsxs("div",{className:"flex",children:[R.jsx(uo.Button,{trigger:["click"],type:"primary",menu:{items:c,onClick:u},buttonsRender:m}),R.jsx(Ct,{className:"hidden",...l,directory:!0,multiple:!1,children:R.jsx("span",{ref:o})}),R.jsx(Ct,{className:"hidden",...l,name:"file",action:Ve(Xt,"file","zip"),accept:".zip",multiple:!1,children:R.jsx("span",{ref:r})}),R.jsx(es,{files:t,onClose:i})]})}function ns({path:e,className:t,setFolder:n}){const o=a.useMemo(()=>{const r=[],s=e.split("/").filter(i=>i),l=s.length;for(;s.length;){const i=s[s.length-1];if(s.length==l)r.unshift({title:i});else{const c=s.join("/");r.unshift({title:R.jsx("a",{children:i}),onClick(){n(c)}})}s.splice(s.length-1,1)}return r.unshift({title:R.jsx("a",{children:R.jsx(Xi,{})}),onClick(){n("")}}),r},[e]);return R.jsx(wo,{className:"w-full px-4 "+t,items:o})}function os({folder:e}){const[t]=Be.useForm(),{setOk:n}=a.useContext(Cn),{httpPost:o}=Tt(),r=dt(mt);return n(async()=>{await t.validateFields();const s=t.getFieldsValue();await o("file",new FormData,{folder:Ve(e,s.name)}),r()}),R.jsx(Be,{form:t,preserve:!1,children:R.jsx(Be.Item,{name:"name",rules:[{required:!0,message:"Please input folder name!"}],children:R.jsx(wn,{placeholder:"Folder name"})})})}function ms(){const[e,t]=a.useState(""),[n,o]=a.useState(),{httpGet:r,httpDelete:s}=Tt(),[l,i]=a.useState([]),c=a.useContext(Lt),u=a.useCallback(async()=>{const y=await r("file",{folder:e});o(y)},[e,r]);dt(mt,u),a.useEffect(()=>{u()},[e,u]),a.useEffect(()=>{i([])},[e,n]);const m=a.useMemo(()=>!!l.length&&l.length!==(n==null?void 0:n.length),[n,l.length]),d=a.useMemo(()=>!!l.length&&l.length===(n==null?void 0:n.length),[n,l.length]);if(!n)return;const p=[];for(const y of n)p.push(R.jsx(Ki,{selected:l.includes(y),entry:y,onSelected:P=>i(P?[...l,y]:l.filter(O=>O!==y)),onClick:()=>y.type=="Folder"&&t(Ve(e,y.name)),onDelete:()=>w([y.name])},y.hash));function g(){i(d?[]:n??[])}function v(){c.open({title:"New folder",children:R.jsx(os,{folder:e})})}async function w(y){y=y||l.map(P=>P.name),await s("file",{entries:y,folder:e}),u()}const x=R.jsxs(R.Fragment,{children:[R.jsx($n,{indeterminate:m,checked:d,className:"flex items-center",onClick:g,disabled:!n.length,children:"Check all"}),R.jsx("div",{className:"flex-1"}),R.jsxs("div",{className:"flex gap-2",children:[!!l.length&&R.jsx(Xe,{danger:!0,type:"primary",icon:R.jsx(bn,{}),onClick:()=>w(),children:"Delete"}),R.jsx(Xe,{ghost:!0,icon:R.jsx(mo,{}),type:"primary",onClick:v,children:"Create Folder"}),R.jsx(ts,{folder:e})]})]}),h=!!e&&R.jsx(ns,{path:e,setFolder:t,className:"flex-shrink-0"});return R.jsx(vo,{header:x,footer:h,children:n.length?R.jsx("div",{className:"flex flex-wrap gap-1",children:p}):R.jsx(yn,{})})}export{ms as default};
