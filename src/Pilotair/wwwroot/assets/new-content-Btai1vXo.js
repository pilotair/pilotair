import{r as s,aN as C,aO as h,aq as j,aP as v,ao as N,j as t,ai as r,aK as R,bM as b}from"./index-CkdniRCF.js";import{D as y}from"./data-form-DyIJxhnS.js";import{S}from"./SaveOutlined-BFMsh-NB.js";import"./Table-cTBniRIn.js";import"./CheckOutlined-Daqmf7ce.js";import"./toolbar-layout-CSwFNtw8.js";import"./DownOutlined-cz4r4uzq.js";import"./ClockCircleOutlined-CMhjHB1d.js";import"./index-BGSRdpN6.js";function P({collection:a}){const[o,l]=s.useState(),n=s.useRef(),{closeTab:c}=s.useContext(C),{tabKey:m}=s.useContext(h),x=j(v),{httpGet:u,httpPost:f}=N();if(s.useEffect(()=>{u("content-collection",{name:a}).then(e=>l(e))},[]),!o)return;async function p(){var i;const e=await((i=n.current)==null?void 0:i.getValue());await f(`/content/${a}`,e),c(m),x(a)}function d(){var e;(e=n.current)==null||e.reset()}return t.jsxs("div",{className:"p-4 h-full flex flex-col space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[t.jsx(r,{icon:t.jsx(R,{}),onClick:d,children:"Reset"}),t.jsx("div",{className:"flex-1"}),t.jsx(r,{icon:t.jsx(S,{}),type:"primary",onClick:p,children:"Save"})]}),t.jsx(b,{className:"flex-shrink-0"}),t.jsx(y,{fields:o.fields,ref:n})]})}export{P as default};
